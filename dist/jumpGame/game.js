I.vf=I.Ac.extend({Pb:s,Iz:s,V:u,$b:"LabelAtlas",ctor:function(g,k,j,i,h){I.Ac.prototype.ctor.call(this);this.f.hL();k&&I.vf.prototype.Ih.call(this,g,k,j,i,h)},ed:function(){return I.ja===I.t.zb?new I.vf.G(this):new I.vf.D(this)},XC:D("V"),ar:function(d,e){this.addEventListener("load",d,e)},Ih:function(w,v,t,r,q){var o=w+"",l,j;if(t===m){t=I.T.Be(v);if(1!==parseInt(t.version,10)){return I.log("cc.LabelAtlas.initWithString(): Unsupported version. Upgrade cocos2d version"),u}v=I.path.ov(v,t.textureFilename);r=I.eb();l=parseInt(t.itemWidth,10)/r;j=parseInt(t.itemHeight,10)/r;t=String.fromCharCode(parseInt(t.firstChar,10))}else{l=t||0,j=r||0,t=q||" "}var i=s,i=v instanceof I.la?v:I.wb.md(v);this.V=v=i.V;v||(this.Pb=o,i.addEventListener("load",function(){this.Oa(i,l,j,o.length);this.string=this.Pb;this.ic(this.f.ac);this.dispatchEvent("load")},this));return this.Oa(i,l,j,o.length)?(this.Iz=t,this.string=o,p):u},ic:function(c){I.Ac.prototype.ic.call(this,c);this.f.$o()},sr:D("Pb"),N:function(e,g,f){this.f.SE(e);I.i.prototype.N.call(this,e,g,f)},$o:function(){this.f.$o()},rd:function(d){d=String(d);var e=d.length;this.Pb=d;this.Gd(e*this.Se,this.Sd);this.f.rd(d);this.f.$o();this.quadsToDraw=e}});var kb=I.vf.prototype;I.p(kb,"opacity",kb.ao,kb.Hd);I.p(kb,"color",kb.Xi,kb.ic);I.p(kb,"string",kb.sr,kb.rd);I.vf.create=function(g,k,j,i,h){return new I.vf(g,k,j,i,h)};(function(){I.vf.D=function(d){I.Ac.D.call(this,d);this.ib=u};var c=I.vf.D.prototype=Object.create(I.Ac.D.prototype);c.constructor=I.vf.D;c.hL=function(){var d=this.o;d.Wc=p;d.Vc=u};c.$o=function(){for(var B=this.o,z=B.Pb||"",x=z.length,w=this.Ye,q=B.Se,o=B.Sd,l=0,j=-1;l<x;l++){var i=z.charCodeAt(l)-B.Iz.charCodeAt(0),F=parseInt(i%B.gn,10),i=parseInt(i/B.gn,10);if(!(0>F||0>i)){if(F=I.rect(F*q,i*o,q,o),i=w.S,!(0>F.x||0>F.y||F.x+F.width>i.width||F.y+F.height>i.height)){j++;var i=z.charCodeAt(l),C=B.Hg(l);C?32===i?(C.pa(),C.Yb(I.rect(0,0,10,10),u,I.size(0,0))):(C.Oa(w,F),C.visible=p):(C=new I.F,32===i?(C.pa(),C.Yb(I.rect(0,0,10,10),u,I.size(0,0))):C.Oa(w,F),I.i.prototype.N.call(B,C,0,l));C.Ia(j*q+q/2,o/2)}}}this.bD(l,j+1)};c.bD=function(g,j){var i=this.o,h=i.S;g!==j&&(g*i.Se===h.width&&i.Sd===h.height)&&i.Gd(j*i.Se,i.Sd)};c.rd=function(){var g=this.o;if(g.P){for(var g=g.P,j=g.length,i=0;i<j;i++){var h=g[i];h&&!h.YR&&(h.visible=u)}}};c.SE=function(){child.YR=p}})();(function(){I.vf.G=function(d){I.Ac.G.call(this,d);this.ib=p};var c=I.vf.G.prototype=Object.create(I.Ac.G.prototype);c.constructor=I.vf.G;c.hL=function(){var d=this.o;d.Wc=p;d.Vc=p};c.Sa=function(g){I.Ac.G.prototype.Sa.call(this,g);if(I.rN){var j=this.o;g=j.Aa();var j=j.vV(),i=j.x,h=j.y;g.width=j.width;g.height=j.height;g=[I.d(i,h),I.d(i+g.width,h),I.d(g.width+i,g.height+h),I.d(i,h+g.height)];I.Yk.bf(g,4,p)}};c.$o=function(){var ae=this.o,ad=ae.Pb,ab=ad.length,Z=this.gb,Y=Z.texture,X=Y.pixelsWidth,Y=Y.pixelsHeight,W=ae.Se,U=ae.Sd;ae.mu||(W=ae.Se*I.eb(),U=ae.Sd*I.eb());ab>Z.Qd&&I.log("cc.LabelAtlas._updateAtlasValues(): Invalid String length");for(var S=Z.quads,R=this.ac,R={r:R.r,g:R.g,b:R.b,a:ae.bc},P=ae.Se,T=ae.Sd,O=0,o=-1;O<ab;O++){var C=ad.charCodeAt(O)-ae.Iz.charCodeAt(0),Q=C%ae.gn,l=0|C/ae.gn;if(!(0>Q||0>l)){if(!(Q*P+P>X||l*T+T>Y)){o++;var j;I.tx?(Q=(2*Q*W+1)/(2*X),C=Q+(2*W-2)/(2*X),l=(2*l*U+1)/(2*Y),j=l+(2*U-2)/(2*Y)):(Q=Q*W/X,C=Q+W/X,l=l*U/Y,j=l+U/Y);var i=S[O],G=i.tl,q=i.tr,af=i.bl,i=i.br;G.texCoords.u=Q;G.texCoords.v=l;q.texCoords.u=C;q.texCoords.v=l;af.texCoords.u=Q;af.texCoords.v=j;i.texCoords.u=C;i.texCoords.v=j;af.vertices.x=o*P;af.vertices.y=0;af.vertices.z=0;i.vertices.x=o*P+P;i.vertices.y=0;i.vertices.z=0;G.vertices.x=o*P;G.vertices.y=ae.Sd;G.vertices.z=0;q.vertices.x=o*P+P;q.vertices.y=ae.Sd;q.vertices.z=0;G.colors=R;q.colors=R;af.colors=R;i.colors=R}}}this.bD(O,o+1);0<ab&&(Z.dirty=p,ae=Z.totalQuads,ab>ae&&Z.AW(ab-ae))};c.bD=function(g,j){var i=this.o,h=i.S;g!==j&&(g*i.Se===h.width&&i.Sd===h.height)&&i.Gd(j*i.Se,i.Sd)};c.rd=function(d){d=d.length;d>this.gb.totalQuads&&this.gb.SK(d)};c.SE=y()})();I.S0=-1;I.Md=I.Ub.extend({dc:u,Pb:"",Oe:s,fu:"",en:"",Wp:I.Lp,$q:-1,vu:u,ou:s,wH:s,V:u,$b:"LabelBMFont",ed:function(){return I.ja===I.t.zb?new I.Md.G(this):new I.Md.D(this)},NH:function(g,k){k?this.en=g:this.Pb=g;var j=this.P;if(j){for(var i=0;i<j.length;i++){var h=j[i];h&&h.ie(u)}}this.V&&(this.vv(),k&&this.fg())},ctor:function(g,k,j,i,h){I.Ub.prototype.ctor.call(this);this.ou=I.d(0,0);this.wH=[];this.Wc=this.Vc=p;this.Ih(g,k,j,i,h)},XC:D("V"),ar:function(d,e){this.addEventListener("load",d,e)},Sl:D("dc"),Ko:function(e){this.dc=e;if(e=this.P){for(var g=0;g<e.length;g++){var f=e[g];f&&(f.opacityModifyRGB=this.dc)}}},Nm:function(){this.f.Nm()},pa:function(){return this.Ih(s,s,s,s,s)},Ih:function(h,n,l,k,j){h=h||"";this.Oe&&I.log("cc.LabelBMFont.initWithString(): re-init is no longer supported");if(n){var i=I.T.Be(n);if(!i){return I.log("cc.LabelBMFont.initWithString(): Impossible to create font. Please check file"),u}this.Oe=i;this.fu=n;n=I.wb.md(i.JI);(this.V=i=n.V)||n.addEventListener("load",function(c){this.V=p;this.Oa(c,this.en.length);this.rd(this.en,p);this.dispatchEvent("load")},this)}else{n=new I.la,i=new Image,n.Fd(i),this.V=u}return this.Oa(n,h.length)?(this.Wp=k||I.pt,this.ou=j||I.d(0,0),this.$q=l==s?-1:l,this.Ei=255,this.ve=I.color(255,255,255,255),this.S.width=0,this.S.height=0,this.Vh(0.5,0.5),this.f.wG(),this.rd(h,p),p):u},vv:function(){var O=this.f.ba||this.textureAtlas.texture,L=0,J=I.size(0,0),H=0,G=1,C=this.Pb,q=C?C.length:0;if(0!==q){var o,l=this.Oe,i=l.jX,S=l.qB,Q=l.oV;for(o=0;o<q-1;o++){10===C.charCodeAt(o)&&G++}var j=S*G,G=-(S-S*G),P=-1;for(o=0;o<q;o++){if(S=C.charCodeAt(o),0!==S){if(10===S){L=0,G-=l.qB}else{var P=i[P<<16|S&65535]||0,K=Q[S];K||(I.log("cocos2d: LabelBMFont: character not found "+C[o]),K={rect:{x:0,y:0,width:0,height:0},os:0,cM:0,$w:0});var N=I.rect(K.rect.x,K.rect.y,K.rect.width,K.rect.height),N=I.ow(N);N.x+=this.ou.x;N.y+=this.ou.y;var R=this.Hg(o);R?this.f.qI(R,N,S):(R=new I.F,R.Oa(O,N,u),R.c3=p,this.N(R,0,o));R.opacityModifyRGB=this.dc;this.f.pI(R);N=I.d(L+K.os+0.5*K.rect.width+P,G+(l.qB-K.cM)-0.5*N.height*I.eb());R.Ia(I.NX(N));L+=K.$w+P;P=S;H<L&&(H=L)}}}J.width=K&&K.$w<K.rect.width?H-K.$w+K.rect.width:H;J.height=j;this.Gd(I.zZ(J))}},Gda:function(g){var k=this.P;if(k){for(var j=0,i=k.length;j<i;j++){var h=k[j];h&&(h.visible=u)}}this.Oe&&this.vv();g||this.fg()},sr:D("en"),rd:function(d,e){d=String(d);e==s&&(e=p);if(d==s||!I.ge(d)){d+=""}this.en=d;this.NH(d,e)},LS:function(c){this.rd(c,u)},sba:function(c){this.rd(c,p)},ju:function(e,g){if(0>=g){return 0}var f=this.Hg(e);return this.pG(this.Hg(e+g))-this.pG(f)},Hy:function(C,B,z,x){for(var w=C[B],q=0,o=0;o<B;o++){q+=C[o].length}var q=q+B-x,l=this.ju(q,C[B].length-1);if(l>z&&1<w.length){x=w.length*(z/l)|0;for(var o=w.substr(x),j=l-this.ju(q+x,o.length-1),i,G=0,F=0;j>z&&100>F++;){x*=z/j,x|=0,o=w.substr(x),j=l-this.ju(q+x,o.length-1)}for(F=0;j<z&&100>F++;){o&&(G=(i=I.J.BI.exec(o))?i[0].length:1,i=o),this.vu&&(G=0),x+=G,o=w.substr(x),j=l-this.ju(q+x,o.length-1)}x-=G;0===x&&(x=1,i=i.substr(1));z=w.substr(0,x);if(I.J.bM&&I.J.eI.test(i||o)){G=(q=I.J.JG.exec(z))?q[0].length:0,this.vu&&(G=0),x-=G,i=w.substr(x),z=w.substr(0,x)}if(I.J.eG.test(i)&&(q=I.J.IG.exec(z))&&z!==q[0]){G=q[0].length,this.vu&&(G=0),x-=G,i=w.substr(x),z=w.substr(0,x)}C[B]=i||o;C.splice(B,0,z)}},fg:function(){this.string=this.en;var w,v,t;if(0<this.$q){var r=this.string.split("\n"),q="",o=0,l=0;for(w=0;w<r.length;w++){l=r.length,this.Hy(r,w,this.$q*this.sa,o),l<r.length&&o++,0<w&&(q+="\n"),q+=r[w]}q+=String.fromCharCode(0);this.NH(q,u)}if(this.Wp!==I.pt){r=w=0;q=this.Pb.length;o=[];for(l=0;l<q;l++){if(10===this.Pb[l].charCodeAt(0)||0===this.Pb[l].charCodeAt(0)){v=0;var j=o.length;if(0===j){r++}else{if(t=w+j-1+r,!(0>t)){var i=this.Hg(t);if(i!=s){v=i.ee()+i.lh()/2;i=0;switch(this.Wp){case I.Lp:i=this.width/2-v/2;break;case I.aE:i=this.width-v}if(0!==i){for(v=0;v<j;v++){t=w+v+r,0>t||(t=this.Hg(t))&&(t.x+=i)}}w+=j;r++;o.length=0}}}}else{o.push(this.Pb[w])}}}},tY:function(c){this.Wp=c;this.fg()},cR:D("Wp"),yY:function(c){this.$q=c;this.fg()},kz:D("$q"),Wba:function(c){this.vu=c;this.fg()},Qc:function(d,e){I.i.prototype.Qc.call(this,d,e);this.fg()},IC:function(c){I.i.prototype.IC.call(this,c);this.fg()},JC:function(c){I.i.prototype.JC.call(this,c);this.fg()},Lba:function(d){if(d!=s&&d!==this.fu){var e=I.T.Be(d);e?(this.fu=d,this.Oe=e,d=I.wb.md(e.JI),this.V=e=d.V,this.texture=d,e?this.vv():d.addEventListener("load",function(c){this.V=p;this.texture=c;this.vv();this.Nm();this.fg();this.dispatchEvent("load")},this)):I.log("cc.LabelBMFont.setFntFile() : Impossible to create font. Please check file")}},U6:D("fu"),mb:function(c){this.f.mb(c)},Vh:function(d,e){I.i.prototype.Vh.call(this,d,e);this.fg()},mA:function(c){I.i.prototype.mA.call(this,c);this.fg()},nA:function(c){I.i.prototype.nA.call(this,c);this.fg()},A2:y(),Y2:function(f,i){var h=0;if(this.MQ.kX){var g=this.MQ.kX[(f<<16|i&65535).toString()];g&&(h=g.U3)}return h},pG:function(c){return c.ee()*this.sa-c.lh()*this.sa*c.fz()},R2:function(c){return c.ee()*this.sa+c.lh()*this.sa*c.fz()},DG:function(c){c=c.charCodeAt(0);return 9<=c&&13>=c||32===c||133===c||160===c||5760===c||8192<=c&&8202>=c||8232===c||8233===c||8239===c||8287===c||12288===c},B3:function(e){var g=e.length;if(!(0>=g)&&(g-=1,this.DG(e[g]))){for(var f=g-1;0<=f;--f){if(this.DG(e[f])){g=f}else{break}}this.lT(e,g)}},lT:function(e,g){var f=e.length;g>=f||0>g||e.splice(g,f)}});var lb=I.Md.prototype;I.tf.prototype.apply(lb);I.p(lb,"string",lb.sr,lb.LS);I.p(lb,"boundingWidth",lb.kz,lb.yY);I.p(lb,"textAlign",lb.cR,lb.tY);I.Md.create=function(g,k,j,i,h){return new I.Md(g,k,j,i,h)};I.WQ={nN:/info [^\n]*(\n|$)/gi,yM:/common [^\n]*(\n|$)/gi,eO:/page [^\n]*(\n|$)/gi,xM:/char [^\n]*(\n|$)/gi,qN:/kerning [^\n]*(\n|$)/gi,pN:/\w+=[^ \r\n]+/gi,oN:/^[\-]?\d+$/,Cq:function(i){i=i.match(this.pN);var q={};if(i){for(var o=0,n=i.length;o<n;o++){var l=i[o],k=l.indexOf("\x3d"),j=l.substring(0,k),l=l.substring(k+1);l.match(this.oN)?l=parseInt(l):'"'===l[0]&&(l=l.substring(1,l.length-1));q[j]=l}}return q},IX:function(i,t){var r={};this.Cq(i.match(this.nN)[0]);var q=this.Cq(i.match(this.yM)[0]);r.qB=q.lineHeight;if(I.ja===I.t.zb){var o=I.Un.xq;(q.scaleW>o.width||q.scaleH>o.height)&&I.log("cc.LabelBMFont._parseCommonArguments(): page can't be larger than supported")}1!==q.pages&&I.log("cc.LabelBMFont._parseCommonArguments(): only supports 1 page");q=this.Cq(i.match(this.eO)[0]);0!==q.id&&I.log("cc.LabelBMFont._parseImageFileName() : file could not be found");r.JI=I.path.ov(t,q.file);for(var n=i.match(this.xM),l=r.oV={},q=0,o=n.length;q<o;q++){var j=this.Cq(n[q]);l[j.id]={rect:{x:j.x,y:j.y,width:j.width,height:j.height},os:j.xoffset,cM:j.yoffset,$w:j.xadvance}}n=r.jX={};if(l=i.match(this.qN)){q=0;for(o=l.length;q<o;q++){j=this.Cq(l[q]),n[j.first<<16|j.second&65535]=j.amount}}return r},load:function(g,k,j,i){var h=this;I.T.cw(g,function(c,e){if(c){return i(c)}i(s,h.IX(e,k))})}};I.T.Rh(["fnt"],I.WQ);(function(){I.Md.D=function(d){I.Ub.D.call(this,d);this.ib=p};var c=I.Md.D.prototype=Object.create(I.Ub.D.prototype);c.constructor=I.Md.D;c.Sa=function(){m};c.qI=function(f,h,g){32===g?f.Yb(h,u,I.size(0,0)):(f.Yb(h,u),f.visible=p)};c.pI=function(d){d.ac=this.ac;d.f.Z(I.i.L.hb);d.bc=this.bc;d.f.Z(I.i.L.lb)};c.mb=function(i){for(var r=this.o.P,q=this.ac,o=0;o<r.length;o++){var n=r[o],l=n.f,j=l.ac;this.ba!==l.ba&&(j.r!==q.r||j.g!==q.g||j.b!==q.b)||(n.texture=i)}this.ba=i};c.Nm=function(){var i=this.o,o=this.Ye,n=o.Aa(),i=i.ba,l=i.Xa,k=this.ac,j=I.rect(0,0,l.width,l.height);o&&0<n.width&&l&&(this.Ye=i.mq(k.r,k.g,k.b,j))};c.hT=function(d){I.i.prototype.UL.call(d,this.bc)};c.gT=function(d){I.i.prototype.TL.call(d,this.ac)};c.wG=y()})();(function(){I.Md.G=function(d){I.Ub.G.call(this,d);this.ib=p};var c=I.Md.G.prototype=Object.create(I.Ub.G.prototype);c.constructor=I.Md.G;c.qI=function(e,f){e.Yb(f,u);e.visible=p};c.Nm=y();c.hT=function(d){d.UL(this.bc)};c.gT=function(d){d.TL(this.ac)};c.wG=function(){var f=this.o,h=f.textureAtlas.texture;f.dc=h.io();var g=f.wH=new I.F;g.Oa(h,I.rect(0,0,0,0),u);g.batchNode=f};c.Sa=function(e){I.Ub.G.prototype.Sa.call(this,e);e=this.o;if(I.sN){e=e.Aa();var f=I.d(0|-this.yf.x,0|-this.yf.y);e=[I.d(f.x,f.y),I.d(f.x+e.width,f.y),I.d(f.x+e.width,f.y+e.height),I.d(f.x,f.y+e.height)];I.Yk.es(0,255,0,255);I.Yk.bf(e,4,p)}};c.pI=y()})();I.Jda=function(){return{x:0,y:0}};I.Bk=function(d,e){return{x:d,y:e}};I.Jd=function(d,e){return I.Bk(d.x+e.x,d.y+e.y)};I.Sb=function(d,e){return I.Bk(d.x-e.x,d.y-e.y)};I.Rc=function(d,e){return I.Bk(d.x*e,d.y*e)};I.ap=function(c){return I.Bk(-c.y,c.x)};I.qf=function(c){return I.Bk(-c.x,-c.y)};I.XL=function(d,e){return d.x*e.x+d.y*e.y};I.Ida=function(c){return I.Bk(Math.cos(c),Math.sin(c))};I.ls=function(c){c=I.ag(I.d(c.x,c.y));return I.Bk(c.x,c.y)};I.Pd=function(c){return I.Bk(c.x,c.y)};I.xa=function(c){return{u:c.x,v:c.y}};I.Da=I.i.extend({Ja:s,aa:s,jd:1,ih:s,Dv:D("aa"),yk:function(d,e){e===m?(this.aa.src=d.src,this.aa.Ra=d.Ra):(this.aa.src=d,this.aa.Ra=e)},nL:A("jd"),i7:D("jd"),es:function(d){var e=this.ih;e.r=d.r;e.g=d.g;e.b=d.b;e.a=d.a==s?255:d.a},pd:function(){return I.color(this.ih.r,this.ih.g,this.ih.b,this.ih.a)}});I.Da.create=function(){return new I.Da};I.Da.bE=0;I.Da.rP=1;I.Da.zj=2;I.t.addEventListener(I.t.Wg,function(){I.ja===I.t.Tb?(I.Ej=function(c){this.type=c;this.fillColor=this.Kd=s;this.lineWidth=0;this.fj=s;this.lineCap="butt";this.qk=this.bC=this.Vv=u},I.extend(I.Da.prototype,{$b:"DrawNodeCanvas",ctor:function(){I.i.prototype.ctor.call(this);var c=this.f;c.Ja=this.Ja=[];c.ih=this.ih=I.color(255,255,255,255);c.aa=this.aa=new I.Zb(I.SRC_ALPHA,I.ONE_MINUS_SRC_ALPHA);this.pa()},CB:function(g,k,j,i,h){i=i==s?this.jd:i;h=h||this.pd();h.a==s&&(h.a=255);g=[g,I.d(k.x,g.y),k,I.d(g.x,k.y)];k=new I.Ej(I.Da.zj);k.Kd=g;k.lineWidth=i;k.fj=h;k.Vv=p;k.qk=p;k.lineCap="butt";if(k.fillColor=j){j.a==s&&(j.a=255),k.bC=p}this.Ja.push(k)},zB:function(B,z,x,w,v,q,o){q=q||this.jd;o=o||this.pd();o.a==s&&(o.a=255);for(var l=2*Math.PI/w,j=[],i=0;i<=w;i++){var C=i*l;j.push(I.d(z*Math.cos(C+x)+B.x,z*Math.sin(C+x)+B.y))}v&&j.push(I.d(B.x,B.y));B=new I.Ej(I.Da.zj);B.Kd=j;B.lineWidth=q;B.fj=o;B.Vv=p;B.qk=p;this.Ja.push(B)},BB:function(w,v,t,r,q,o){q=q||this.jd;o=o||this.pd();o.a==s&&(o.a=255);for(var l=[],j=0,i=0;i<r;i++){l.push(I.d(Math.pow(1-j,2)*w.x+2*(1-j)*j*v.x+j*j*t.x,Math.pow(1-j,2)*w.y+2*(1-j)*j*v.y+j*j*t.y)),j+=1/r}l.push(I.d(t.x,t.y));w=new I.Ej(I.Da.zj);w.Kd=l;w.lineWidth=q;w.fj=o;w.qk=p;w.lineCap="round";this.Ja.push(w)},AB:function(z,x,w,v,t,q,o){q=q||this.jd;o=o||this.pd();o.a==s&&(o.a=255);for(var l=[],j=0,i=0;i<t;i++){l.push(I.d(Math.pow(1-j,3)*z.x+3*Math.pow(1-j,2)*j*x.x+3*(1-j)*j*j*w.x+j*j*j*v.x,Math.pow(1-j,3)*z.y+3*Math.pow(1-j,2)*j*x.y+3*(1-j)*j*j*w.y+j*j*j*v.y)),j+=1/t}l.push(I.d(v.x,v.y));z=new I.Ej(I.Da.zj);z.Kd=l;z.lineWidth=q;z.fj=o;z.qk=p;z.lineCap="round";this.Ja.push(z)},yB:function(f,i,h,g){this.Ll(f,0.5,i,h,g)},Ll:function(z,x,w,v,t){v=v||this.jd;t=t||this.pd();t.a==s&&(t.a=255);for(var q=[],o,l,j=1/z.length,i=0;i<w+1;i++){l=i/w,1===l?(o=z.length-1,l=1):(o=0|l/j,l=(l-j*o)/j),o=I.nv(I.zc(z,o-1),I.zc(z,o-0),I.zc(z,o+1),I.zc(z,o+2),x,l),q.push(o)}z=new I.Ej(I.Da.zj);z.Kd=q;z.lineWidth=v;z.fj=t;z.qk=p;z.lineCap="round";this.Ja.push(z)},Gg:function(f,i,h){h=h||this.pd();h.a==s&&(h.a=255);var g=new I.Ej(I.Da.bE);g.Kd=[f];g.lineWidth=i;g.fillColor=h;this.Ja.push(g)},LU:function(g,k,j){if(g&&0!=g.length){j=j||this.pd();j.a==s&&(j.a=255);for(var i=0,h=g.length;i<h;i++){this.Gg(g[i],k,j)}}},kk:function(g,k,j,i){j=j||this.jd;i=i||this.pd();i.a==s&&(i.a=255);var h=new I.Ej(I.Da.zj);h.Kd=[g,k];h.lineWidth=2*j;h.fj=i;h.qk=p;h.lineCap="round";this.Ja.push(h)},PU:function(g,k,j,i){j=j==s?this.jd:j;i=i||this.pd();i.a==s&&(i.a=255);var h=new I.Ej(I.Da.zj);h.Kd=g;h.fillColor=k;h.lineWidth=j;h.fj=i;h.Vv=p;h.qk=p;h.lineCap="round";k&&(h.bC=p);this.Ja.push(h)},bf:function(h,n,l,k){for(var j=[],i=0;i<h.length;i++){j.push(I.d(h[i].x,h[i].y))}return this.PU(j,n,l,k)},clear:function(){this.Ja.length=0},ed:function(){return new I.Da.D(this)}})):I.ja===I.t.zb&&I.extend(I.Da.prototype,{Mm:0,Pi:s,kI:s,jI:s,Ab:u,$b:"DrawNodeWebGL",ctor:function(){I.i.prototype.ctor.call(this);this.Ja=[];this.aa=new I.Zb(I.SRC_ALPHA,I.ONE_MINUS_SRC_ALPHA);this.ih=I.color(255,255,255,255);this.pa()},pa:function(){return I.i.prototype.pa.call(this)?(this.shaderProgram=I.cg.ad(I.TD),this.hq(64),this.kI=I.s.createBuffer(),this.Ab=p):u},CB:function(g,k,j,i,h){i=i==s?this.jd:i;h=h||this.pd();h.a==s&&(h.a=255);g=[g,I.d(k.x,g.y),k,I.d(g.x,k.y)];j==s?this.Wt(g,i,h,p):this.bf(g,j,i,h)},zB:function(B,z,x,w,v,q,o){q=q||this.jd;o=o||this.pd();o.a==s&&(o.a=255);var l=2*Math.PI/w,j=[],i;for(i=0;i<=w;i++){var C=i*l;j.push(I.d(z*Math.cos(C+x)+B.x,z*Math.sin(C+x)+B.y))}v&&j.push(I.d(B.x,B.y));q*=0.5;i=0;for(B=j.length;i<B-1;i++){this.kk(j[i],j[i+1],q,o)}},BB:function(w,v,t,r,q,o){q=q||this.jd;o=o||this.pd();o.a==s&&(o.a=255);for(var l=[],j=0,i=0;i<r;i++){l.push(I.d(Math.pow(1-j,2)*w.x+2*(1-j)*j*v.x+j*j*t.x,Math.pow(1-j,2)*w.y+2*(1-j)*j*v.y+j*j*t.y)),j+=1/r}l.push(I.d(t.x,t.y));this.Wt(l,q,o,u)},AB:function(z,x,w,v,t,q,o){q=q||this.jd;o=o||this.pd();o.a==s&&(o.a=255);for(var l=[],j=0,i=0;i<t;i++){l.push(I.d(Math.pow(1-j,3)*z.x+3*Math.pow(1-j,2)*j*x.x+3*(1-j)*j*j*w.x+j*j*j*v.x,Math.pow(1-j,3)*z.y+3*Math.pow(1-j,2)*j*x.y+3*(1-j)*j*j*w.y+j*j*j*v.y)),j+=1/t}l.push(I.d(v.x,v.y));this.Wt(l,q,o,u)},yB:function(f,i,h,g){this.Ll(f,0.5,i,h,g)},Ll:function(z,x,w,v,t){v=v||this.jd;t=t||this.pd();t.a==s&&(t.a=255);for(var q=[],o,l,j=1/z.length,i=0;i<w+1;i++){l=i/w,1===l?(o=z.length-1,l=1):(o=0|l/j,l=(l-j*o)/j),o=I.nv(I.zc(z,o-1),I.zc(z,o-0),I.zc(z,o+1),I.zc(z,o+2),x,l),q.push(o)}v*=0.5;z=0;for(x=q.length;z<x-1;z++){this.kk(q[z],q[z+1],v,t)}},uH:function(){var d=I.s;I.Zc(I.zt);d.bindBuffer(d.ARRAY_BUFFER,this.kI);this.Ab&&(d.bufferData(d.ARRAY_BUFFER,this.Pi,d.STREAM_DRAW),this.Ab=u);var e=I.Uc.BYTES_PER_ELEMENT;d.vertexAttribPointer(I.tb,2,d.FLOAT,u,e,0);d.vertexAttribPointer(I.Je,4,d.UNSIGNED_BYTE,p,e,8);d.vertexAttribPointer(I.Ke,2,d.FLOAT,u,e,12);d.drawArrays(d.TRIANGLES,0,3*this.Ja.length);I.Hh()},hq:function(g){var k=this.Ja;if(k.length+g>this.Mm){var j=I.Gb.BYTES_PER_ELEMENT;this.Mm+=Math.max(this.Mm,g);if(k==s||0===k.length){this.Ja=[],this.Pi=new ArrayBuffer(j*this.Mm),this.jI=new Uint8Array(this.Pi)}else{g=[];for(var i=new ArrayBuffer(j*this.Mm),h=0;h<k.length;h++){g[h]=new I.Gb(k[h].a,k[h].b,k[h].c,i,h*j)}this.jI=new Uint8Array(i);this.Pi=i;this.Ja=g}}},Gg:function(h,n,l){l=l||this.pd();l.a==s&&(l.a=255);var k={r:0|l.r,g:0|l.g,b:0|l.b,a:0|l.a};l={vertices:{x:h.x-n,y:h.y-n},colors:k,texCoords:{u:-1,v:-1}};var j={vertices:{x:h.x-n,y:h.y+n},colors:k,texCoords:{u:-1,v:1}},i={vertices:{x:h.x+n,y:h.y+n},colors:k,texCoords:{u:1,v:1}};h={vertices:{x:h.x+n,y:h.y-n},colors:k,texCoords:{u:1,v:-1}};this.hq(6);this.Ja.push(new I.Gb(l,j,i,this.Pi,this.Ja.length*I.Gb.BYTES_PER_ELEMENT));this.Ja.push(new I.Gb(l,i,h,this.Pi,this.Ja.length*I.Gb.BYTES_PER_ELEMENT));this.Ab=p},LU:function(g,k,j){if(g&&0!==g.length){j=j||this.pd();j.a==s&&(j.a=255);for(var i=0,h=g.length;i<h;i++){this.Gg(g[i],k,j)}}},kk:function(N,K,H,G){G=G||this.pd();G.a==s&&(G.a=255);H=H||0.5*this.jd;this.hq(18);G={r:0|G.r,g:0|G.g,b:0|G.b,a:0|G.a};var F=I.Pd(N);K=I.Pd(K);N=I.ls(I.ap(I.Sb(K,F)));var C=I.ap(N),q=I.Rc(N,H);H=I.Rc(C,H);var o=I.Jd(K,I.Sb(q,H)),l=I.Sb(K,q),i=I.Jd(K,q),Q=I.Sb(F,q),P=I.Jd(F,q),j=I.Sb(F,I.Sb(q,H)),F=I.Jd(F,I.Jd(q,H)),O=I.Gb.BYTES_PER_ELEMENT,J=this.Pi,L=this.Ja;L.push(new I.Gb({vertices:I.Sb(K,I.Jd(q,H)),colors:G,texCoords:I.xa(I.qf(I.Jd(N,C)))},{vertices:o,colors:G,texCoords:I.xa(I.Sb(N,C))},{vertices:l,colors:G,texCoords:I.xa(I.qf(N))},J,L.length*O));L.push(new I.Gb({vertices:i,colors:G,texCoords:I.xa(N)},{vertices:o,colors:G,texCoords:I.xa(I.Sb(N,C))},{vertices:l,colors:G,texCoords:I.xa(I.qf(N))},J,L.length*O));L.push(new I.Gb({vertices:i,colors:G,texCoords:I.xa(N)},{vertices:Q,colors:G,texCoords:I.xa(I.qf(N))},{vertices:l,colors:G,texCoords:I.xa(I.qf(N))},J,L.length*O));L.push(new I.Gb({vertices:i,colors:G,texCoords:I.xa(N)},{vertices:Q,colors:G,texCoords:I.xa(I.qf(N))},{vertices:P,colors:G,texCoords:I.xa(N)},J,L.length*O));L.push(new I.Gb({vertices:j,colors:G,texCoords:I.xa(I.Sb(C,N))},{vertices:Q,colors:G,texCoords:I.xa(I.qf(N))},{vertices:P,colors:G,texCoords:I.xa(N)},J,L.length*O));L.push(new I.Gb({vertices:j,colors:G,texCoords:I.xa(I.Sb(C,N))},{vertices:F,colors:G,texCoords:I.xa(I.Jd(N,C))},{vertices:P,colors:G,texCoords:I.xa(N)},J,L.length*O));this.Ab=p},bf:function(U,T,S,R){if(T==s){this.Wt(U,S,R,p)}else{T.a==s&&(T.a=255);R.a==s&&(R.a=255);S=S==s?this.jd:S;S*=0.5;T={r:0|T.r,g:0|T.g,b:0|T.b,a:0|T.a};R={r:0|R.r,g:0|R.g,b:0|R.b,a:0|R.a};var Q=[],P,O,N,L,H=U.length;for(P=0;P<H;P++){O=I.Pd(U[(P-1+H)%H]);N=I.Pd(U[P]);L=I.Pd(U[(P+1)%H]);var G=I.ls(I.ap(I.Sb(N,O)));N=I.ls(I.ap(I.Sb(L,N)));Q[P]={offset:I.Rc(I.Jd(G,N),1/(I.XL(G,N)+1)),fa:N}}G=0<S;this.hq(3*(3*H-2));var q=I.Gb.BYTES_PER_ELEMENT,J=this.Pi,o=this.Ja,j=G==u?0.5:0;for(P=0;P<H-2;P++){O=I.Sb(I.Pd(U[0]),I.Rc(Q[0].offset,j)),N=I.Sb(I.Pd(U[P+1]),I.Rc(Q[P+1].offset,j)),L=I.Sb(I.Pd(U[P+2]),I.Rc(Q[P+2].offset,j)),o.push(new I.Gb({vertices:O,colors:T,texCoords:I.xa({x:0,y:0})},{vertices:N,colors:T,texCoords:I.xa({x:0,y:0})},{vertices:L,colors:T,texCoords:I.xa({x:0,y:0})},J,o.length*q))}for(P=0;P<H;P++){j=(P+1)%H;O=I.Pd(U[P]);N=I.Pd(U[j]);L=Q[P].fa;var l=Q[P].offset,C=Q[j].offset,j=G?I.Sb(O,I.Rc(l,S)):I.Sb(O,I.Rc(l,0.5)),i=G?I.Sb(N,I.Rc(C,S)):I.Sb(N,I.Rc(C,0.5));O=G?I.Jd(O,I.Rc(l,S)):I.Jd(O,I.Rc(l,0.5));N=G?I.Jd(N,I.Rc(C,S)):I.Jd(N,I.Rc(C,0.5));G?(o.push(new I.Gb({vertices:j,colors:R,texCoords:I.xa(I.qf(L))},{vertices:i,colors:R,texCoords:I.xa(I.qf(L))},{vertices:N,colors:R,texCoords:I.xa(L)},J,o.length*q)),o.push(new I.Gb({vertices:j,colors:R,texCoords:I.xa(I.qf(L))},{vertices:O,colors:R,texCoords:I.xa(L)},{vertices:N,colors:R,texCoords:I.xa(L)},J,o.length*q))):(o.push(new I.Gb({vertices:j,colors:T,texCoords:I.xa({x:0,y:0})},{vertices:i,colors:T,texCoords:I.xa({x:0,y:0})},{vertices:N,colors:T,texCoords:I.xa(L)},J,o.length*q)),o.push(new I.Gb({vertices:j,colors:T,texCoords:I.xa({x:0,y:0})},{vertices:O,colors:T,texCoords:I.xa(L)},{vertices:N,colors:T,texCoords:I.xa(L)},J,o.length*q)))}this.Ab=p}},Wt:function(N,K,H,G){K=K==s?this.jd:K;H=H||this.ih;H.a==s&&(H.a=255);K*=0.5;if(!(0>=K)){H={r:0|H.r,g:0|H.g,b:0|H.b,a:0|H.a};var F=[],C,q,o,l,i=N.length;for(C=0;C<i;C++){q=I.Pd(N[(C-1+i)%i]);o=I.Pd(N[C]);l=I.Pd(N[(C+1)%i]);var Q=I.ls(I.ap(I.Sb(o,q)));o=I.ls(I.ap(I.Sb(l,o)));F[C]={offset:I.Rc(I.Jd(Q,o),1/(I.XL(Q,o)+1)),fa:o}}this.hq(3*(3*i-2));l=I.Gb.BYTES_PER_ELEMENT;var Q=this.Pi,P=this.Ja;G=G?i:i-1;for(C=0;C<G;C++){var j=(C+1)%i;q=I.Pd(N[C]);o=I.Pd(N[j]);var O=F[C].fa,J=F[C].offset,j=F[j].offset,L=I.Sb(q,I.Rc(J,K));q=I.Jd(q,I.Rc(J,K));J=I.Jd(o,I.Rc(j,K));P.push(new I.Gb({vertices:L,colors:H,texCoords:I.xa(I.qf(O))},{vertices:I.Sb(o,I.Rc(j,K)),colors:H,texCoords:I.xa(I.qf(O))},{vertices:J,colors:H,texCoords:I.xa(O)},Q,P.length*l));P.push(new I.Gb({vertices:L,colors:H,texCoords:I.xa(I.qf(O))},{vertices:q,colors:H,texCoords:I.xa(O)},{vertices:J,colors:H,texCoords:I.xa(O)},Q,P.length*l))}this.Ab=p}},clear:function(){this.Ja.length=0;this.Ab=p},ed:function(){return new I.Da.G(this)}})});I.Da.D=function(c){I.i.D.call(this,c);this.ib=p;this.aa=this.ih=this.Ja=s};I.Da.D.prototype=Object.create(I.i.D.prototype);I.Da.D.prototype.constructor=I.Da.D;I.extend(I.Da.D.prototype,{Sa:function(i,q,o){i=i||I.s;i.getContext();var n=this.o.bc/255;if(0!==n){i.setTransform(this.Si,q,o);i.gm(n);this.aa&&(this.aa.src===I.SRC_ALPHA&&this.aa.Ra===I.ONE)&&i.Jo("lighter");for(var n=this.Ja,l=0,k=n.length;l<k;l++){var j=n[l];switch(j.type){case I.Da.bE:this.Uy(i,j,q,o);break;case I.Da.rP:this.Wy(i,j,q,o);break;case I.Da.zj:this.Vy(i,j,q,o)}}}},Uy:function(i,q,o,n){var l=q.fillColor,k=q.Kd[0];q=q.lineWidth;var j=i.getContext();i.bg("rgba("+(0|l.r)+","+(0|l.g)+","+(0|l.b)+","+0/255+")");j.beginPath();j.arc(k.x*o,-k.y*n,q*o,0,2*Math.PI,u);j.closePath();j.fill()},Wy:function(w,v,t,r){var q=v.fj,o=v.Kd[0],l=v.Kd[1],j=v.lineWidth;v=v.lineCap;var i=w.getContext();w.Pw("rgba("+(0|q.r)+","+(0|q.g)+","+(0|q.b)+","+0/255+")");i.lineWidth=j*t;i.beginPath();i.lineCap=v;i.moveTo(o.x*t,-o.y*r);i.lineTo(l.x*t,-l.y*r);i.stroke()},Vy:function(G,F,C,z){var x=F.Kd,w=F.lineCap;if(x!=s){var q=F.fillColor,o=F.lineWidth,l=F.fj,i=F.Vv,J=F.bC;F=F.qk;var H=G.getContext(),j=x[0];H.lineCap=w;q&&G.bg("rgba("+(0|q.r)+","+(0|q.g)+","+(0|q.b)+","+0/255+")");o&&(H.lineWidth=o*C);l&&G.Pw("rgba("+(0|l.r)+","+(0|l.g)+","+(0|l.b)+","+0/255+")");H.beginPath();H.moveTo(j.x*C,-j.y*z);G=1;for(w=x.length;G<w;G++){H.lineTo(x[G].x*C,-x[G].y*z)}i&&H.closePath();J&&H.fill();F&&H.stroke()}}});I.Da.G=function(c){I.i.G.call(this,c);this.ib=p};I.Da.G.prototype=Object.create(I.i.G.prototype);I.Da.G.prototype.constructor=I.Da.G;I.Da.G.prototype.Sa=function(){var c=this.o;I.Xf(c.aa.src,c.aa.Ra);this.Wa.kc();this.Wa.Ji(this.Ad);c.uH()};(function(){I.Cc=I.F.extend({al:u,Dc:s,l3:1,ctor:function(f,h){I.F.prototype.ctor.call(this);if(f===m){I.Cc.prototype.pa.call(this)}else{if(I.ge(f)){if("#"===f[0]){var g=I.Rg.Jg(f.substr(1,f.length-1));this.Yf(g)}else{this.pa(f,h)}}else{I.Ar(f)&&(f instanceof I.la?this.Oa(f,h):f instanceof I.cd&&this.Yf(f))}}I.Ga.Pg(this.f)},ia:function(){I.Ga.Pg(this.f);I.F.prototype.ia.call(this)},Dw:A("Dc"),mk:D("Dc"),Hv:function(){var d=this.Dc;return{x:d.d.x,y:d.d.y}},ee:function(){return this.Dc.d.x},Vf:function(){return this.Dc.d.y},Ia:function(e,f){f===m?(this.Dc.d.x=e.x,this.Dc.d.y=e.y):(this.Dc.d.x=e,this.Dc.d.y=f)},rL:function(d){this.Dc.d.x=d},sL:function(d){this.Dc.d.y=d},fI:function(){var e=this.Gf,f=this.Dc;(e.x!==f.d.x||e.y!==f.d.y)&&I.F.prototype.Ia.call(this,f.d.x,f.d.y)},CJ:function(){return this.al?this.Hi:-I.Bo(this.Dc.a)},Ow:function(d){this.al?I.F.prototype.Ow.call(this,d):this.Dc.a=-I.af(d)},gI:function(){this.Hi!==-I.Bo(this.Dc.a)&&I.F.prototype.Ow.call(this,-I.Bo(this.Dc.a))},sc:function(){return this.f.sc()},zr:function(){return !this.Dc.bj()},Gw:y(),Vba:A("al"),ed:function(){return I.ja===I.t.Tb?new I.Cc.D(this):new I.Cc.G(this)}});I.Cc.$b="PhysicsSprite";var c=I.Cc.prototype;I.p(c,"body",c.mk,c.Dw);I.p(c,"dirty",c.zr,c.Gw);I.Cc.create=function(e,f){return new I.Cc(e,f)};I.Cc.DU=I.Cc.create;I.Cc.CU=I.Cc.create})();I.wQ=function(e){for(var g=[],f=0;f<e.length/2;f++){g[f]={x:e[2*f],y:e[2*f+1]}}return g};I.AM=function(c){return c.Lh()||c.bj()?I.color(128,128,128,128):c.hj>c.fb.QC?I.color(84,84,84,128):I.color(255,0,0,128)};I.mx=function(e){var g=e.body,f=I.AM(g);switch(e.$e){case cp.zM.prototype.$e:this.Gg(e.pf,Math.max(e.r,1),f);this.kk(e.pf,cp.v.add(e.pf,cp.v.jC(g.uc,e.r)),1,f);break;case cp.ym.prototype.$e:this.kk(e.Id,e.Fe,Math.max(e.r,2),f);break;case cp.Fx.prototype.$e:g=I.color(f.r,f.g,f.b,I.gC(f.a,255,0.5));this.bf(I.wQ(e.Yh),f,1,g);break;default:I.log("cc.DrawShape(): Bad assertion in DrawShape()")}};I.lx=function(f){var i=f.a,h=f.b,g;f instanceof cp.oO?(g=i.Kg(f.Dh),i=h.Kg(f.Ze),this.Gg(g,3,I.Vg),this.Gg(i,3,I.Vg),this.kk(g,i,1,I.Vg)):f instanceof cp.PO?(g=i.Kg(f.Dh),i=h.Kg(f.Ze),this.Gg(g,3,I.Vg),this.Gg(i,3,I.Vg),this.kk(g,i,1,I.Vg)):f instanceof cp.pO?(g=i.Kg(f.Dh),i=h.Kg(f.Ze),this.Gg(g,3,I.Vg),this.Gg(i,3,I.Vg)):f instanceof cp.iN&&(g=i.Kg(f.MJ),i=i.Kg(f.NJ),f=h.Kg(f.Ze),this.Gg(f,3,I.Vg),this.kk(g,i,1,I.Vg))};I.Vg=I.color(0,255,0,128);I.He=I.Da.extend({If:s,$b:"PhysicsDebugNode",ctor:function(c){I.Da.prototype.ctor.call(this);this.If=c},M7:D("If"),sca:A("If"),xB:function(){this.If&&(this.If.yv(I.mx.bind(this)),this.If.xv(I.lx.bind(this)),I.Da.prototype.xB.call(this),this.clear())},ed:function(){return I.ja===I.t.Tb?new I.He.D(this):new I.He.G(this)}});I.He.create=function(c){return new I.He(c)};(function(){I.He.D=function(d){I.i.D.call(this,d);this.Ja=d.Ja;this.ib=p};var c=I.He.D.prototype=Object.create(I.i.D.prototype);c.constructor=I.He.D;c.Sa=function(g,j,i){var h=this.o;h.If&&(h.If.yv(I.mx.bind(h)),h.If.xv(I.lx.bind(h)),I.Da.D.prototype.Sa.call(this,g,j,i),h.clear())};c.Uy=I.Da.D.prototype.Uy;c.Wy=I.Da.D.prototype.Wy;c.Vy=I.Da.D.prototype.Vy})();I.He.G=function(c){I.i.G.call(this,c);this.ib=p};I.He.G.prototype=Object.create(I.i.G.prototype);I.He.G.prototype.constructor=I.He.G;I.He.G.prototype.Sa=function(){var c=this.o;c.If&&(c.If.yv(I.mx.bind(c)),c.If.xv(I.lx.bind(c)),I.Xf(c.aa.src,c.aa.Ra),this.Wa.kc(),this.Wa.Ji(this.Ad),c.uH(),c.clear())};(function(){I.Cc.D=function(d){I.F.D.call(this,d);this.ib=p};var c=I.Cc.D.prototype=Object.create(I.F.D.prototype);c.constructor=I.Cc.D;c.Sa=function(g,j,i){var h=this.o;h.fI();h.al||h.gI();this.transform(La(this));I.F.D.prototype.Sa.call(this,g,j,i)};c.sc=function(){var i=this.o,t=this.xl,r=i.Dc,q=i.sa,o=i.Va,l=this.yf;t.ca=r.d.x;t.da=r.d.y;var r=-r.a,j=1,v=0;r&&!i.al&&(j=Math.cos(r),v=Math.sin(r));t.a=t.I=j;t.b=-v;t.c=v;if(1!==q||1!==o){t.a*=q,t.c*=q,t.b*=o,t.I*=o}t.ca+=j*-l.x*q+-v*l.y*o;t.da-=v*-l.x*q+j*l.y*o;this.ti&&(t.ca+=l.x,t.da+=l.y);return this.xl}})();(function(){I.Cc.G=function(d){I.F.G.call(this,d);this.ib=p};var c=I.Cc.G.prototype=Object.create(I.F.G.prototype);c.constructor=I.Cc.G;c.Sa=function(e){var f=this.o;f.fI();f.al||f.gI();this.transform(La(this),p);I.F.G.prototype.Sa.call(this,e)};c.sc=function(){var x=this.o,w=x.Dc,v=this.yf,t=x.sa,q=x.Va,o=w.d.x,l=w.d.y;this.ti&&(o+=v.x,l+=v.y);var w=w.a,j=1,i=0;w&&!x.al&&(j=Math.cos(w),i=Math.sin(w));I.Ku(v)||(o+=j*-v.x*t+-i*-v.y*q,l+=i*-v.x*t+j*-v.y*q);return this.xl=I.II(j*t,i*t,-i*q,j*q,o,l)};c.ke=function(){var d=this.o;d.zr()&&(d=d.f)&&d.Hw(p);I.F.G.prototype.ke.call(this)}})();I.K0=0;I.L0=1;I.M0=9;I.sm=function(c){c-=1;c|=c>>1;c|=c>>2;c|=c>>4;c|=c>>8;return(c|c>>16)+1};I.le=I.i.extend({sprite:s,lB:0,kB:0,er:u,ba:s,vg:0,mB:0,Ec:s,$b:"RenderTexture",ctor:function(f,i,h,g){I.i.prototype.ctor.call(this);this.Wc=this.Vc=p;this.vg=I.la.Hk;this.Ec=new I.vd(0,0,0,255);f!==m&&i!==m&&(h=h||I.la.Hk,this.Tv(f,i,h,g||0));this.Vh(0,0)},ed:function(){return I.ja===I.t.Tb?new I.le.D(this):new I.le.G(this)},od:function(){I.i.prototype.Qa.call(this);this.f.od()},HJ:D("sprite"),KC:A("sprite"),NC:function(e,g,f){this.f.NC(e,g,f)},Tv:function(f,i,h,g){return this.f.Tv(f,i,h,g)},Rf:function(){I.Ga.ev(this.W);this.f.Rf()},XT:function(i,q,o,n,l,k){var j=I.s;l=l||j.COLOR_BUFFER_BIT;k=k||j.COLOR_BUFFER_BIT|j.DEPTH_BUFFER_BIT;this.Ht(i,q,o,n,l,k,j.COLOR_BUFFER_BIT|j.DEPTH_BUFFER_BIT|j.STENCIL_BUFFER_BIT)},Ht:function(i,q,o,n,l,k,j){this.Rf();this.f.Ht(i,q,o,n,l,k,j)},end:function(){this.f.end()},clear:function(f,i,h,g){this.XT(f,i,h,g);this.end()},clearRect:function(f,i,h,g){this.f.clearRect(f,i,h,g)},clearDepth:function(c){this.f.clearDepth(c)},clearStencil:function(c){this.f.clearStencil(c)},A6:D("lB"),vba:A("lB"),yV:D("Ec"),Ew:function(d){var e=this.Ec;e.r=d.r;e.g=d.g;e.b=d.b;e.a=d.a;this.f.SL(d)},z6:D("kB"),uba:A("kB"),B6:D("mB"),wba:A("mB"),G8:D("er"),qba:A("er"),eba:function(){I.log("saveToFile isn't supported on Cocos2d-Html5")},Z9:function(){I.log("saveToFile isn't supported on cocos2d-html5");return s},G9:y(),H9:y()});M=I.le.prototype;I.p(M,"clearColorVal",M.yV,M.Ew);I.le.create=function(f,i,h,g){return new I.le(f,i,h,g)};(function(){I.le.D=function(d){I.i.D.call(this,d);this.ib=p;this.LQ="rgba(255,255,255,0)";this.Mj=document.createElement("canvas");this.mg=new I.vs(this.Mj.getContext("2d"))};var c=I.le.D.prototype=Object.create(I.i.D.prototype);c.constructor=I.le.D;c.od=function(){this.Mj=this.mg=s};c.clearStencil=y();c.NC=y();c.SL=function(d){this.LQ="rgba("+(0|d.r)+","+(0|d.g)+","+(0|d.b)+","+0/255+")"};c.Tv=function(h,l){var k=this.o,j=this.Mj,i=I.eb();j.width=0|h*i;j.height=0|l*i;i=new I.la;i.Fd(j);i.Jb();j=k.sprite=new I.F(i);j.yk(I.ONE,I.ONE_MINUS_SRC_ALPHA);k.er=u;k.N(j);return p};c.Rf=y();c.Ht=function(i,o,n,l){i=i||0;o=o||0;n=n||0;l=isNaN(l)?255:l;var k=this.mg.getContext(),j=this.Mj;k.setTransform(1,0,0,1,0,0);this.mg.bg("rgba("+(0|i)+","+(0|o)+","+(0|n)+","+0/255+")");k.clearRect(0,0,j.width,j.height);k.fillRect(0,0,j.width,j.height)};c.end=function(){var e=this.o,f=I.eb();I.Ga.eA(this.mg,e.W,f,f)};c.clearRect=function(g,j,i,h){this.mg.clearRect(g,j,i,-h)};c.clearDepth=function(){I.log("clearDepth isn't supported on Cocos2d-Html5")};c.ia=function(e){var f=this.o;this.Wd(e);f.sprite.ia(this);this.C=0}})();(function(){I.le.G=function(d){I.i.G.call(this,d);this.ib=p;this.Wk=this.Rq=this.zu=this.du=s;this.Ou=new I.gi;this.$m=new I.gi;this.hu=new I.gi};var c=I.le.G.prototype=Object.create(I.i.G.prototype);c.constructor=I.le.G;c.NC=function(f,h,g){this.Ou.x=f.x;this.Ou.y=f.y;this.$m=h;this.hu=g};c.Sa=function(i){var o=i||I.s;i=this.o;if(i.er){i.Rf();var n=i.lB;if(n){var l=[0,0,0,0],k=0,j=0;n&o.COLOR_BUFFER_BIT&&(l=o.getParameter(o.COLOR_CLEAR_VALUE),o.clearColor(i.Ec.r/255,i.Ec.g/255,i.Ec.b/255,i.Ec.a/255));n&o.DEPTH_BUFFER_BIT&&(k=o.getParameter(o.DEPTH_CLEAR_VALUE),o.clearDepth(i.kB));n&o.STENCIL_BUFFER_BIT&&(j=o.getParameter(o.STENCIL_CLEAR_VALUE),o.clearStencil(i.mB));o.clear(n);n&o.COLOR_BUFFER_BIT&&o.clearColor(l[0],l[1],l[2],l[3]);n&o.DEPTH_BUFFER_BIT&&o.clearDepth(k);n&o.STENCIL_BUFFER_BIT&&o.clearStencil(j)}i.dg();o=i.P;for(n=0;n<o.length;n++){l=o[n],l!==i.sprite&&l.f.ia(i.sprite.f)}i.end()}};c.clearStencil=function(f){var h=I.s,g=h.getParameter(h.STENCIL_CLEAR_VALUE);h.clearStencil(f);h.clear(h.STENCIL_BUFFER_BIT);h.clearStencil(g)};c.od=function(){this.Rq=s;var d=I.s;d.deleteFramebuffer(this.du);this.Wk&&d.deleteRenderbuffer(this.Wk)};c.SL=y();c.Tv=function(z,x,w,v){var q=this.o;w===I.la.Fp&&I.log("cc.RenderTexture._initWithWidthAndHeightForWebGL() : only RGB and RGBA formats are valid for a render texture;");var o=I.s,l=I.eb();this.$m=new I.gi(0,0,z,x);this.hu=new I.gi(0,0,z,x);z=0|z*l;x=0|x*l;this.zu=o.getParameter(o.FRAMEBUFFER_BINDING);var j;I.Un.av?(l=z,j=x):(l=I.sm(z),j=I.sm(x));for(var i=new Uint8Array(4*l*j),B=0;B<4*l*j;B++){i[B]=0}this.vg=w;B=q.ba=new I.la;if(!q.ba){return u}B.Rv(i,q.vg,l,j,I.size(z,x));w=o.getParameter(o.RENDERBUFFER_BINDING);if(I.Un.Rn("GL_QCOM")){this.Rq=new I.la;if(!this.Rq){return u}this.Rq.Rv(i,q.vg,l,j,I.size(z,x))}this.du=o.createFramebuffer();o.bindFramebuffer(o.FRAMEBUFFER,this.du);o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,B.Pf,0);0!==v&&(this.Wk=o.createRenderbuffer(),o.bindRenderbuffer(o.RENDERBUFFER,this.Wk),o.renderbufferStorage(o.RENDERBUFFER,v,l,j),v===o.DEPTH_STENCIL?o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,this.Wk):v===o.STENCIL_INDEX||v===o.STENCIL_INDEX8?o.framebufferRenderbuffer(o.FRAMEBUFFER,o.STENCIL_ATTACHMENT,o.RENDERBUFFER,this.Wk):v===o.DEPTH_COMPONENT16&&o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.RENDERBUFFER,this.Wk));o.checkFramebufferStatus(o.FRAMEBUFFER)!==o.FRAMEBUFFER_COMPLETE&&I.log("Could not attach texture to the framebuffer");B.cL();z=q.sprite=new I.F(B);z.scaleY=-1;z.yk(o.ONE,o.ONE_MINUS_SRC_ALPHA);o.bindRenderbuffer(o.RENDERBUFFER,w);o.bindFramebuffer(o.FRAMEBUFFER,this.zu);q.er=u;q.N(z);return p};c.Rf=function(){var h=this.o;I.dj(I.fi);I.$v();I.dj(I.ei);I.$v();var l=I.s,k=I.O;k.Lo(k.rr());var j=h.ba.S,i=I.O.qW(),k=i.width/j.width,j=i.height/j.height,k=I.e.X.gJ(-1/k,1/k,-1/j,1/j,-1,1);I.Hr(k);k=new I.gi(0,0,0,0);k.width=this.hu.width;k.height=this.hu.height;j=k.height/this.$m.height;k.x=(this.$m.x-this.Ou.x)*(k.width/this.$m.width);k.y=(this.$m.y-this.Ou.y)*j;l.viewport(k.x,k.y,k.width,k.height);this.zu=l.getParameter(l.FRAMEBUFFER_BINDING);l.bindFramebuffer(l.FRAMEBUFFER,this.du);I.Un.Rn("GL_QCOM")&&(l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,this.Rq.Pf,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,h.ba.Pf,0))};c.Ht=function(B,z,x,w,q,o,l){B/=255;z/=255;x/=255;w/=255;var j=I.s,i=[0,0,0,0],F=0,C=0;l&j.COLOR_BUFFER_BIT&&(i=j.getParameter(j.COLOR_CLEAR_VALUE),j.clearColor(B,z,x,w));l&j.DEPTH_BUFFER_BIT&&(F=j.getParameter(j.DEPTH_CLEAR_VALUE),j.clearDepth(q));l&j.STENCIL_BUFFER_BIT&&(C=j.getParameter(j.STENCIL_CLEAR_VALUE),j.clearStencil(o));j.clear(l);l&j.COLOR_BUFFER_BIT&&j.clearColor(i[0],i[1],i[2],i[3]);l&j.DEPTH_BUFFER_BIT&&j.clearDepth(F);l&j.STENCIL_BUFFER_BIT&&j.clearStencil(C)};c.end=function(){I.Ga.tS(this.o.W);var e=I.s,f=I.O;e.bindFramebuffer(e.FRAMEBUFFER,this.zu);f.MC();I.dj(I.fi);I.Zv();I.dj(I.ei);I.Zv()};c.clearRect=y();c.clearDepth=function(g){var j=this.o;j.Rf();var i=I.s,h=i.getParameter(i.DEPTH_CLEAR_VALUE);i.clearDepth(g);i.clear(i.DEPTH_BUFFER_BIT);i.clearDepth(h);j.end()};c.ia=function(e){var f=this.o;f.$d&&(I.$v(),this.Wd(e),I.Ga.Pg(this),f.sprite.ia(this),this.C=0,I.Zv())}})();I.ua=I.i.extend({yc:s,zi:0,ub:s,ph:s,Gm:s,Hf:u,$b:"ProgressTimer",ctor:function(c){I.i.prototype.ctor.call(this);this.yc=I.ua.Aj;this.zi=0;this.ph=I.d(0,0);this.Gm=I.d(0,0);this.Hf=u;this.ub=s;c&&this.KW(c)},TV:function(){return I.d(this.ph.x,this.ph.y)},RY:function(c){this.ph=I.sK(c)},sV:function(){return I.d(this.Gm.x,this.Gm.y)},xY:function(c){this.Gm=I.sK(c)},SB:D("yc"),YV:D("zi"),HJ:D("ub"),WY:function(c){this.zi!==c&&(this.zi=I.ir(c,0,100),this.f.tI())},Ko:y(),Sl:E(u),aX:D("Hf"),ic:function(c){this.ub.color=c;this.f.Z(I.i.L.hb)},Hd:function(c){this.ub.opacity=c;this.f.Z(I.i.L.lb)},Xi:function(){return this.ub.color},ao:function(){return this.ub.opacity},pca:function(c){this.Hf!==c&&(this.Hf=c,this.f.bm())},KC:function(c){this.ub!==c&&((this.ub=c)?this.Gd(c.width,c.height):this.Gd(0,0),this.f.bm())},oZ:function(c){c!==this.yc&&(this.yc=c,this.f.bm())},cZ:function(c){this.Hf!==c&&(this.Hf=c,this.f.bm())},KW:function(c){this.percentage=0;this.Vh(0.5,0.5);this.yc=I.ua.Aj;this.Hf=u;this.midPoint=I.d(0.5,0.5);this.barChangeRate=I.d(1,1);this.KC(c);this.f.VJ();return p},ed:function(){return I.ja===I.t.Tb?new I.ua.D(this):new I.ua.G(this)}});M=I.ua.prototype;I.p(M,"midPoint",M.TV,M.RY);I.p(M,"barChangeRate",M.sV,M.xY);I.p(M,"type",M.SB,M.oZ);I.p(M,"percentage",M.YV,M.WY);I.p(M,"sprite",M.HJ,M.KC);I.p(M,"reverseDir",M.aX,M.cZ);I.ua.create=function(c){return new I.ua(c)};I.ua.$D=4;I.ua.oP=75;I.ua.Aj=0;I.ua.Kk=1;I.Hx=I.H.extend({Lc:0,Gc:0,ctor:function(d,e){I.H.prototype.ctor.call(this);this.Gc=this.Lc=0;e!==m&&this.n(d,e)},n:function(d,e){return I.H.prototype.n.call(this,d)?(this.Lc=e,p):u},j:function(){var c=new I.Hx;c.n(this.q,this.Lc);return c},reverse:function(){I.log("cc.ProgressTo.reverse(): reverse hasn't been supported.");return s},M:function(c){I.H.prototype.M.call(this,c);this.Gc=c.percentage},update:function(c){this.target instanceof I.ua&&(this.target.percentage=this.Gc+(this.Lc-this.Gc)*c)}});I.SX=function(d,e){return new I.Hx(d,e)};I.Hx.create=I.SX;I.Gx=I.H.extend({Lc:0,Gc:0,ctor:function(e,g,f){I.H.prototype.ctor.call(this);this.Gc=this.Lc=0;f!==m&&this.n(e,g,f)},n:function(e,g,f){return I.H.prototype.n.call(this,e)?(this.Lc=f,this.Gc=g,p):u},j:function(){var c=new I.Gx;c.n(this.q,this.Gc,this.Lc);return c},reverse:function(){return I.qC(this.q,this.Lc,this.Gc)},M:function(c){I.H.prototype.M.call(this,c)},update:function(c){this.target instanceof I.ua&&(this.target.percentage=this.Gc+(this.Lc-this.Gc)*c)}});I.qC=function(e,g,f){return new I.Gx(e,g,f)};I.Gx.create=I.qC;(function(){I.ua.D=function(d){I.i.D.call(this,d);this.ib=p;this.LE=Math.PI/180;this.WE=I.rect(0,0,0,0);this.Sz=I.d(0,0);this.$j=0;this.XF=this.$H=270;this.iF=u};var c=I.ua.D.prototype=Object.create(I.i.D.prototype);c.constructor=I.ua.D;c.Sa=function(F,C,z){F=F||I.s;var x=F.getContext(),w=this.o,q=w.ub,o=q.f.hk,l=q.f.bc/255;if(!(0===o.width||0===o.height)&&q.ba&&o.dD&&0!==l){F.setTransform(this.Si,C,z);F.Jo(q.Lj);F.gm(l);var i=q.wa,H=q.pc,l=H.x,G=-H.y-i.height,j=i.width,i=i.height;F.save();q.nc&&(l=-l-j,x.scale(-1,1));q.oc&&(G=H.y,x.scale(1,-1));w.yc===I.ua.Kk?(w=this.WE,x.beginPath(),x.rect(w.x*C,w.y*z,w.width*C,w.height*z),x.clip(),x.closePath()):w.yc===I.ua.Aj&&(w=this.Sz.x*C,H=this.Sz.y*z,x.beginPath(),x.arc(w,H,this.$j*z,this.LE*this.$H,this.LE*this.XF,this.iF),x.lineTo(w,H),x.clip(),x.closePath());w=q.ba.Xa;q.f.aq?x.drawImage(w,0,0,o.width,o.height,l*C,G*z,j*C,i*z):x.drawImage(w,o.uw,o.vw,o.width,o.height,l*C,G*z,j*C,i*z);F.restore();I.ef++}};c.bm=y();c.VJ=y();c.tI=function(){var i=this.o,t=i.ub,r=t.width,q=t.height,o=i.ph;if(i.yc===I.ua.Aj){this.$j=Math.round(Math.sqrt(r*r+q*q));var l,j=u,v=this.Sz;v.x=r*o.x;v.y=-q*o.y;i.Hf?(l=270,o=270-3.6*i.zi):(o=-90,l=-90+3.6*i.zi);t.nc&&(v.x-=r*2*i.ph.x,o=-o-180,l=-l-180,j=!j);t.oc&&(v.y+=q*2*i.ph.y,j=!j,o=-o,l=-l);this.$H=o;this.XF=l;this.iF=j}else{j=i.Gm,v=i.zi/100,i=this.WE,j=I.size(r*(1-j.x),q*(1-j.y)),v=I.size((r-j.width)*v,(q-j.height)*v),j=I.size(j.width+v.width,j.height+v.height),l=I.d(r*o.x,q*o.y),v=l.x-j.width/2,0.5<o.x&&j.width/2>=r-l.x&&(v=r-j.width),r=l.y-j.height/2,0.5<o.y&&j.height/2>=q-l.y&&(r=q-j.height),i.x=0,q=1,t.nc&&(i.x-=j.width,q=-1),0<v&&(i.x+=v*q),i.y=0,q=1,t.oc&&(i.y+=j.height,q=-1),0<r&&(i.y-=r*q),i.width=j.width,i.height=-j.height}};c.jb=y();c.Wd=function(i){var o=this.o;if(o.ub){var n=I.i.L,l=this.C,k=i?i.o:s;k&&(k.Vc&&i.C&n.hb)&&(l|=n.hb);k&&(k.Wc&&i.C&n.lb)&&(l|=n.lb);i&&i.C&n.ga&&(l|=n.ga);this.C=l;var o=o.ub.f,j=o.C,k=j&n.hb,j=j&n.lb;k&&Ma(o);j&&Pa(o);(k||j)&&o.jb();l&n.ga&&this.transform(i);l&n.jf&&(this.C^=this.C&n.jf)}};c.updateStatus=function(){var h=this.o;if(h.ub){var l=I.i.L,k=this.C,h=h.ub.f,j=h.C,i=j&l.hb,j=j&l.lb;i&&Ka(h);j&&Ja(h);(i||j)&&h.jb();k&l.ga&&this.transform(La(this),p);this.C=0}}})();(function(){I.ua.G=function(d){I.i.G.call(this,d);this.ib=p;this.mT=I.s.createBuffer();this.Yd=0;this.Ch=this.Yc=s;this.iv=u};var c=I.ua.G.prototype=Object.create(I.i.G.prototype);c.constructor=I.ua.G;c.Sa=function(f){var h=this.o;f=f||I.s;if(this.Yc&&h.ub){this.Wa.kc();this.Wa.Ji(this.Ad);var g=h.ub.aa;I.Xf(g.src,g.Ra);I.Zc(I.zt);I.Wf(h.ub.texture);f.bindBuffer(f.ARRAY_BUFFER,this.mT);this.iv&&(f.bufferData(f.ARRAY_BUFFER,this.Ch,f.DYNAMIC_DRAW),this.iv=u);g=I.Uc.BYTES_PER_ELEMENT;f.vertexAttribPointer(I.tb,2,f.FLOAT,u,g,0);f.vertexAttribPointer(I.Je,4,f.UNSIGNED_BYTE,p,g,8);f.vertexAttribPointer(I.Ke,2,f.FLOAT,u,g,12);h.yc===I.ua.Aj?f.drawArrays(f.TRIANGLE_FAN,0,this.Yd):h.yc===I.ua.Kk&&(h.Hf?(f.drawArrays(f.TRIANGLE_STRIP,0,this.Yd/2),f.drawArrays(f.TRIANGLE_STRIP,4,this.Yd/2),I.ef++):f.drawArrays(f.TRIANGLE_STRIP,0,this.Yd));I.ef++}};c.Wd=function(h){var l=this.o;if(l.ub){var k=I.i.L,j=this.C,i=h?h.o:s;i&&(i.Vc&&h.C&k.hb)&&(j|=k.hb);i&&(i.Wc&&h.C&k.lb)&&(j|=k.lb);h&&h.C&k.ga&&(j|=k.ga);this.C=j;l=l.ub.f;i=l.C;j=i&k.hb;k=i&k.lb;j&&Ma(l);k&&Pa(l);if(j||k){l.jb(),this.jb()}this.transform(h);l.C=0}};c.updateStatus=function(){var h=this.o;if(h.ub){var l=I.i.L,k=this.C,h=h.ub.f,j=h.C,i=j&l.hb,j=j&l.lb;i&&(Ka(h),this.C^=this.C&l.hb);j&&(Ja(h),this.C^=this.C&l.lb);if(i||j){h.jb(),this.jb()}k&l.ga&&this.transform(La(this),p);k&l.jf&&(this.C^=this.C&l.jf)}};c.bm=function(){this.Yc&&(this.Ch=this.Yc=s,this.Yd=0)};c.VJ=function(){this.Ch=this.Yc=s;this.Yd=0;this.Wa=I.cg.ad(I.wm)};c.tI=function(){var d=this.o.yc;d===I.ua.Aj?this.jT():d===I.ua.Kk&&this.fT();this.iv=p};c.fT=function(){var h=this.o;if(h.ub){var l,k=h.zi/100;l=h.Gm;l=I.kj(I.d(1-l.x+k*l.x,1-l.y+k*l.y),0.5);k=I.$c(h.ph,l);h=I.jj(h.ph,l);0>k.x&&(h.x+=-k.x,k.x=0);1<h.x&&(k.x-=h.x-1,h.x=1);0>k.y&&(h.y+=-k.y,k.y=0);1<h.y&&(k.y-=h.y-1,h.y=1);if(this.Hf){if(!this.Yc){this.Yd=8;var j=I.Uc.BYTES_PER_ELEMENT;this.Ch=new ArrayBuffer(8*j);var i=[];for(l=0;8>l;l++){i[l]=new I.Uc(s,s,s,this.Ch,l*j)}i[0].texCoords=this.Bd(I.d(0,1));i[0].vertices=this.Dd(I.d(0,1));i[1].texCoords=this.Bd(I.d(0,0));i[1].vertices=this.Dd(I.d(0,0));i[6].texCoords=this.Bd(I.d(1,1));i[6].vertices=this.Dd(I.d(1,1));i[7].texCoords=this.Bd(I.d(1,0));i[7].vertices=this.Dd(I.d(1,0));this.Yc=i}l=this.Yc;l[2].texCoords=this.Bd(I.d(k.x,h.y));l[2].vertices=this.Dd(I.d(k.x,h.y));l[3].texCoords=this.Bd(I.d(k.x,k.y));l[3].vertices=this.Dd(I.d(k.x,k.y));l[4].texCoords=this.Bd(I.d(h.x,h.y));l[4].vertices=this.Dd(I.d(h.x,h.y));l[5].texCoords=this.Bd(I.d(h.x,k.y));l[5].vertices=this.Dd(I.d(h.x,k.y))}else{if(!this.Yc){this.Yd=4;j=I.Uc.BYTES_PER_ELEMENT;this.Ch=new ArrayBuffer(4*j);this.Yc=[];for(l=0;4>l;l++){this.Yc[l]=new I.Uc(s,s,s,this.Ch,l*j)}}l=this.Yc;l[0].texCoords=this.Bd(I.d(k.x,h.y));l[0].vertices=this.Dd(I.d(k.x,h.y));l[1].texCoords=this.Bd(I.d(k.x,k.y));l[1].vertices=this.Dd(I.d(k.x,k.y));l[2].texCoords=this.Bd(I.d(h.x,h.y));l[2].vertices=this.Dd(I.d(h.x,h.y));l[3].texCoords=this.Bd(I.d(h.x,k.y));l[3].vertices=this.Dd(I.d(h.x,k.y))}this.jb()}};c.jT=function(){var z=this.o;if(z.ub){var x,w=z.ph;x=z.zi/100;var v=2*I.PI*(z.Hf?x:1-x),z=I.d(w.x,1),q=I.xK(z,w,v),v=0;if(0===x){q=z,v=0}else{if(1===x){q=z,v=4}else{var o=I.bN,l=I.ua.$D;for(x=0;x<=l;++x){var j=(x+(l-1))%l,i=this.zy(x%l),j=this.zy(j);0===x?j=I.vK(i,j,1-w.x):4===x&&(i=I.vK(i,j,1-w.x));var B=I.d(0,0);if(I.lC(i,j,w,q,B)&&(!(0===x||4===x)||0<=B.x&&1>=B.x)&&0<=B.y&&B.y<o){o=B.y,v=x}}q=I.jj(w,I.kj(I.$c(q,w),o))}}o=p;this.Yd!==v+3&&(o=u,this.Ch=this.Yc=s,this.Yd=0);if(!this.Yc){l=this.Yd=v+3;i=I.Uc.BYTES_PER_ELEMENT;this.Ch=new ArrayBuffer(l*i);j=[];for(x=0;x<l;x++){j[x]=new I.Uc(s,s,s,this.Ch,x*i)}this.Yc=j;if(!this.Yc){I.log("cc.ProgressTimer._updateRadial() : Not enough memory");return}}this.jb();l=this.Yc;if(!o){l[0].texCoords=this.Bd(w);l[0].vertices=this.Dd(w);l[1].texCoords=this.Bd(z);l[1].vertices=this.Dd(z);for(x=0;x<v;x++){w=this.zy(x),l[x+2].texCoords=this.Bd(w),l[x+2].vertices=this.Dd(w)}}l[this.Yd-1].texCoords=this.Bd(q);l[this.Yd-1].vertices=this.Dd(q)}};c.zy=function(e){if(e<I.ua.$D){var f=I.ua.oP;return this.o.Hf?I.d(f>>7-(e<<1)&1,f>>7-((e<<1)+1)&1):I.d(f>>(e<<1)+1&1,f>>(e<<1)&1)}return I.d(0,0)};c.Bd=function(g){var j=this.o.ub;if(!j){return{u:0,v:0}}var i=j.quad,h=I.d(i.bl.texCoords.u,i.bl.texCoords.v),i=I.d(i.tr.texCoords.u,i.tr.texCoords.v);j.textureRectRotated&&(j=g.x,g.x=g.y,g.y=j);return{u:h.x*(1-g.x)+i.x*g.x,v:h.y*(1-g.y)+i.y*g.y}};c.Dd=function(f){var h=this.o.ub;if(!h){return{x:0,y:0}}var g=h.quad,h=I.d(g.bl.vertices.x,g.bl.vertices.y),g=I.d(g.tr.vertices.x,g.tr.vertices.y);return{x:h.x*(1-f.x)+g.x*f.x,y:h.y*(1-f.y)+g.y*f.y}};c.jb=function(){var g=this.o;if(g.ub&&this.Yc){for(var g=g.ub.quad.tl.colors,j=this.Yc,i=0,h=this.Yd;i<h;++i){j[i].colors=g}this.iv=p}}})();I.Jp=4208917214;I.f2=0;I.yj=1;I.rt=0;I.e2=1;I.$=I.hi.extend({ha:s,Ma:s,q:s,ug:u,CG:u,$b:"TransitionScene",ctor:function(d,e){I.hi.prototype.ctor.call(this);d!==m&&e!==m&&this.n(d,e)},MH:function(){this.Sg(this.MH);var c=I.O;this.CG=c.ck;c.lj(this.ha);I.K.fm(p);this.Ma.visible=p},wh:function(){this.ug=p},ia:function(){this.ug?(this.Ma.ia(),this.ha.ia()):(this.ha.ia(),this.Ma.ia());I.i.prototype.ia.call(this)},U:function(){I.i.prototype.U.call(this);I.K.fm(u);this.Ma.Og();this.ha.U()},Qa:function(){I.i.prototype.Qa.call(this);I.K.fm(p);this.Ma.Qa();this.ha.uk()},od:function(){I.i.prototype.od.call(this);this.CG&&this.Ma.od()},n:function(d,e){e||b(Error("cc.TransitionScene.initWithDuration(): Argument scene must be non-nil"));return this.pa()?(this.q=d,this.na({x:0,y:0,anchorX:0,anchorY:0}),this.ha=e,this.Ma=I.O.rc,this.Ma||(this.Ma=new I.hi,this.Ma.pa()),this.ha===this.Ma&&b(Error("cc.TransitionScene.initWithDuration(): Incoming scene must be different from the outgoing scene")),this.wh(),p):u},finish:function(){this.ha.na({visible:p,x:0,y:0,scale:1,rotation:0});I.ja===I.t.zb&&this.ha.qr().restore();this.Ma.na({visible:u,x:0,y:0,scale:1,rotation:0});I.ja===I.t.zb&&this.Ma.qr().restore();this.mj(this.MH,0)},YB:function(){this.ha.visible=p;this.Ma.visible=u}});I.$.create=function(d,e){return new I.$(d,e)};I.ne=I.$.extend({fl:0,ctor:function(e,g,f){I.$.prototype.ctor.call(this);f!=m&&this.n(e,g,f)},n:function(e,g,f){I.$.prototype.n.call(this,e,g)&&(this.fl=f);return p}});I.ne.create=function(e,g,f){return new I.ne(e,g,f)};I.wE=I.$.extend({ctor:function(d,e){I.$.prototype.ctor.call(this);e&&this.n(d,e)},U:function(){I.$.prototype.U.call(this);this.ha.na({scale:0.001,anchorX:0.5,anchorY:0.5});this.Ma.na({scale:1,anchorX:0.5,anchorY:0.5});var c=I.Ha(I.zk(I.ZK(this.q/2,0.001),I.WK(this.q/2,720)),I.gc(this.q/2));this.Ma.ma(c);this.ha.ma(I.Ha(c.reverse(),I.Db(this.finish,this)))}});I.wE.create=function(d,e){return new I.wE(d,e)};I.mE=I.$.extend({ctor:function(d,e){I.$.prototype.ctor.call(this);e&&this.n(d,e)},U:function(){I.$.prototype.U.call(this);var e=I.O.kb();this.ha.na({scale:0.5,x:e.width,y:0,anchorX:0.5,anchorY:0.5});this.Ma.anchorX=0.5;this.Ma.anchorY=0.5;var g=I.Xv(this.q/4,I.d(-e.width,0),e.width/4,2),f=I.nf(this.q/4,1),e=I.nf(this.q/4,0.5),e=I.Ha(e,g),g=I.Ha(g,f),f=I.gc(this.q/2);this.Ma.ma(e);this.ha.ma(I.Ha(f,g,I.Db(this.finish,this)))}});I.mE.create=function(d,e){return new I.mE(d,e)};I.Cj=I.$.extend({ctor:function(d,e){I.$.prototype.ctor.call(this);e&&this.n(d,e)},U:function(){I.$.prototype.U.call(this);this.$i();var c=this.action();this.ha.ma(I.Ha(this.cf(c),I.Db(this.finish,this)))},$i:function(){this.ha.Ia(-I.O.kb().width,0)},action:function(){return I.moveTo(this.q,I.d(0,0))},cf:function(c){return new I.uj(c,2)}});I.Cj.create=function(d,e){return new I.Cj(d,e)};I.oE=I.Cj.extend({ctor:function(d,e){I.Cj.prototype.ctor.call(this);e&&this.n(d,e)},$i:function(){this.ha.Ia(I.O.kb().width,0)}});I.oE.create=function(d,e){return new I.oE(d,e)};I.pE=I.Cj.extend({ctor:function(d,e){I.Cj.prototype.ctor.call(this);e&&this.n(d,e)},$i:function(){this.ha.Ia(0,I.O.kb().height)}});I.pE.create=function(d,e){return new I.pE(d,e)};I.nE=I.Cj.extend({ctor:function(d,e){I.Cj.prototype.ctor.call(this);e&&this.n(d,e)},$i:function(){this.ha.Ia(0,-I.O.kb().height)}});I.nE.create=function(d,e){return new I.nE(d,e)};I.qj=0.5;I.Dj=I.$.extend({ctor:function(d,e){I.$.prototype.ctor.call(this);e&&this.n(d,e)},wh:function(){this.ug=u},U:function(){I.$.prototype.U.call(this);this.$i();var d=this.action(),e=this.action(),d=I.Ha(this.cf(d),I.Db(this.finish,this)),e=this.cf(e);this.ha.ma(d);this.Ma.ma(e)},$i:function(){this.ha.Ia(-I.O.kb().width+I.qj,0)},action:function(){return I.moveBy(this.q,I.d(I.O.kb().width-I.qj,0))},cf:function(c){return new I.om(c,2)}});I.Dj.create=function(d,e){return new I.Dj(d,e)};I.zE=I.Dj.extend({ctor:function(d,e){I.Dj.prototype.ctor.call(this);e&&this.n(d,e)},wh:function(){this.ug=p},$i:function(){this.ha.Ia(I.O.kb().width-I.qj,0)},action:function(){return I.moveBy(this.q,I.d(-(I.O.kb().width-I.qj),0))}});I.zE.create=function(d,e){return new I.zE(d,e)};I.yE=I.Dj.extend({ctor:function(d,e){I.Dj.prototype.ctor.call(this);e&&this.n(d,e)},wh:function(){this.ug=u},$i:function(){this.ha.Ia(0,-(I.O.kb().height-I.qj))},action:function(){return I.moveBy(this.q,I.d(0,I.O.kb().height-I.qj))}});I.yE.create=function(d,e){return new I.yE(d,e)};I.AE=I.Dj.extend({ctor:function(d,e){I.Dj.prototype.ctor.call(this);e&&this.n(d,e)},wh:function(){this.ug=p},$i:function(){this.ha.Ia(0,I.O.kb().height-I.qj)},action:function(){return I.moveBy(this.q,I.d(0,-(I.O.kb().height-I.qj)))}});I.AE.create=function(d,e){return new I.AE(d,e)};I.xE=I.$.extend({ctor:function(d,e){I.$.prototype.ctor.call(this);e&&this.n(d,e)},U:function(){I.$.prototype.U.call(this);this.ha.na({scale:0.001,anchorX:2/3,anchorY:0.5});this.Ma.na({scale:1,anchorX:1/3,anchorY:0.5});var d=I.nf(this.q,0.01),e=I.nf(this.q,1);this.ha.ma(I.Ha(this.cf(e),I.Db(this.finish,this)));this.Ma.ma(this.cf(d))},cf:function(c){return new I.uj(c,2)}});I.xE.create=function(d,e){return new I.xE(d,e)};I.kE=I.ne.extend({ctor:function(e,g,f){I.ne.prototype.ctor.call(this);f==s&&(f=I.yj);g&&this.n(e,g,f)},U:function(){I.$.prototype.U.call(this);var e,g;this.ha.visible=u;var f;this.fl===I.yj?(e=90,f=270,g=90):(e=-90,f=90,g=-90);e=I.Ha(I.gc(this.q/2),I.show(),I.hf(this.q/2,1,0,f,e,0,0),I.Db(this.finish,this));g=I.Ha(I.hf(this.q/2,1,0,0,g,0,0),I.Ql(),I.gc(this.q/2));this.ha.ma(e);this.Ma.ma(g)}});I.kE.create=function(e,g,f){return new I.kE(e,g,f)};I.lE=I.ne.extend({ctor:function(e,g,f){I.ne.prototype.ctor.call(this);f==s&&(f=I.rt);g&&this.n(e,g,f)},U:function(){I.$.prototype.U.call(this);var e,g;this.ha.visible=u;var f;this.fl===I.rt?(e=90,f=270,g=90):(e=-90,f=90,g=-90);e=I.Ha(I.gc(this.q/2),I.show(),I.hf(this.q/2,1,0,f,e,90,0),I.Db(this.finish,this));g=I.Ha(I.hf(this.q/2,1,0,0,g,90,0),I.Ql(),I.gc(this.q/2));this.ha.ma(e);this.Ma.ma(g)}});I.lE.create=function(e,g,f){return new I.lE(e,g,f)};I.jE=I.ne.extend({ctor:function(e,g,f){I.ne.prototype.ctor.call(this);f==s&&(f=I.yj);g&&this.n(e,g,f)},U:function(){I.$.prototype.U.call(this);var e,g;this.ha.visible=u;var f;this.fl===I.yj?(e=90,f=270,g=90):(e=-90,f=90,g=-90);e=I.Ha(I.gc(this.q/2),I.show(),I.hf(this.q/2,1,0,f,e,-45,0),I.Db(this.finish,this));g=I.Ha(I.hf(this.q/2,1,0,0,g,45,0),I.Ql(),I.gc(this.q/2));this.ha.ma(e);this.Ma.ma(g)}});I.jE.create=function(e,g,f){return new I.jE(e,g,f)};I.EE=I.ne.extend({ctor:function(e,g,f){I.ne.prototype.ctor.call(this);f==s&&(f=I.yj);g&&this.n(e,g,f)},U:function(){I.$.prototype.U.call(this);var e,g;this.ha.visible=u;var f;this.fl===I.yj?(e=90,f=270,g=90):(e=-90,f=90,g=-90);e=I.Ha(I.gc(this.q/2),I.zk(I.hf(this.q/2,1,0,f,e,0,0),I.nf(this.q/2,1),I.show()),I.Db(this.finish,this));g=I.Ha(I.zk(I.hf(this.q/2,1,0,0,g,0,0),I.nf(this.q/2,0.5)),I.Ql(),I.gc(this.q/2));this.ha.scale=0.5;this.ha.ma(e);this.Ma.ma(g)}});I.EE.create=function(e,g,f){return new I.EE(e,g,f)};I.FE=I.ne.extend({ctor:function(e,g,f){I.ne.prototype.ctor.call(this);f==s&&(f=I.rt);g&&this.n(e,g,f)},U:function(){I.$.prototype.U.call(this);var e,g;this.ha.visible=u;var f;this.fl===I.rt?(e=90,f=270,g=90):(e=-90,f=90,g=-90);e=I.Ha(I.gc(this.q/2),I.zk(I.hf(this.q/2,1,0,f,e,90,0),I.nf(this.q/2,1),I.show()),I.Db(this.finish,this));g=I.Ha(I.zk(I.hf(this.q/2,1,0,0,g,90,0),I.nf(this.q/2,0.5)),I.Ql(),I.gc(this.q/2));this.ha.scale=0.5;this.ha.ma(e);this.Ma.ma(g)}});I.FE.create=function(e,g,f){return new I.FE(e,g,f)};I.DE=I.ne.extend({ctor:function(e,g,f){I.ne.prototype.ctor.call(this);f==s&&(f=I.yj);g&&this.n(e,g,f)},U:function(){I.$.prototype.U.call(this);var e,g;this.ha.visible=u;var f;this.fl===I.yj?(e=90,f=270,g=90):(e=-90,f=90,g=-90);e=I.Ha(I.gc(this.q/2),I.zk(I.hf(this.q/2,1,0,f,e,-45,0),I.nf(this.q/2,1),I.show()),I.show(),I.Db(this.finish,this));g=I.Ha(I.zk(I.hf(this.q/2,1,0,0,g,45,0),I.nf(this.q/2,0.5)),I.Ql(),I.gc(this.q/2));this.ha.scale=0.5;this.ha.ma(e);this.Ma.ma(g)}});I.DE.create=function(e,g,f){return new I.DE(e,g,f)};I.Lk=I.$.extend({Qm:s,ctor:function(e,g,f){I.$.prototype.ctor.call(this);this.Qm=I.color();g&&this.n(e,g,f)},U:function(){I.$.prototype.U.call(this);var d=new I.Ea(this.Qm);this.ha.visible=u;this.N(d,2,I.Jp);var d=this.Hg(I.Jp),e=I.Ha(I.Yn(this.q/2),I.Db(this.YB,this),I.lk(this.q/2),I.Db(this.finish,this));d.ma(e)},Qa:function(){I.$.prototype.Qa.call(this);this.wC(I.Jp,u)},n:function(e,g,f){f=f||I.color.BLACK;I.$.prototype.n.call(this,e,g)&&(this.Qm.r=f.r,this.Qm.g=f.g,this.Qm.b=f.b,this.Qm.a=0);return p}});I.Lk.create=function(e,g,f){return new I.Lk(e,g,f)};I.fE=I.$.extend({ctor:function(d,e){I.$.prototype.ctor.call(this);e&&this.n(d,e)},U:function(){I.$.prototype.U.call(this);var f=I.color(0,0,0,0),i=I.O.kb(),f=new I.Ea(f),h=new I.le(i.width,i.height);h.sprite.anchorX=0.5;h.sprite.anchorY=0.5;h.na({x:i.width/2,y:i.height/2,anchorX:0.5,anchorY:0.5});h.Rf();this.ha.ia();h.end();var g=new I.le(i.width,i.height);g.Ia(i.width/2,i.height/2);g.sprite.anchorX=g.anchorX=0.5;g.sprite.anchorY=g.anchorY=0.5;g.Rf();this.Ma.ia();g.end();h.sprite.yk(I.ONE,I.ONE);g.sprite.yk(I.SRC_ALPHA,I.ONE_MINUS_SRC_ALPHA);f.N(h);f.N(g);h.sprite.opacity=255;g.sprite.opacity=255;i=I.Ha(I.oJ(this.q,0),I.Db(this.YB,this),I.Db(this.finish,this));g.sprite.ma(i);this.N(f,2,I.Jp)},Qa:function(){this.wC(I.Jp,u);I.$.prototype.Qa.call(this)},ia:function(){I.i.prototype.ia.call(this)},xB:y()});I.fE.create=function(d,e){return new I.fE(d,e)};I.CE=I.$.extend({Nb:s,ctor:function(d,e){I.$.prototype.ctor.call(this);this.Nb=new I.Ax;e&&this.n(d,e)},wh:function(){this.ug=u},U:function(){I.$.prototype.U.call(this);this.Nb.im(this.Ma);this.Nb.U();var c=I.O.kb(),c=I.wda(this.q,I.size(0|12*(c.width/c.height),12)),c=this.cf(c);this.Nb.ma(I.Ha(c,I.Db(this.finish,this),I.Sw()))},ia:function(){this.ha.ia();this.Nb.ia()},cf:ca()});I.CE.create=function(d,e){return new I.CE(d,e)};I.vt=I.$.extend({Nb:s,YS:function(){this.Nb.im(this.ha)},ctor:function(d,e){I.$.prototype.ctor.call(this);this.Nb=new I.Ax;e&&this.n(d,e)},U:function(){I.$.prototype.U.call(this);this.Nb.im(this.Ma);this.Nb.U();var c=this.action(),c=I.Ha(c,I.Db(this.YS,this),c.reverse());this.Nb.ma(I.Ha(this.cf(c),I.Db(this.finish,this),I.Sw()))},Qa:function(){this.Nb.im(s);this.Nb.Qa();I.$.prototype.Qa.call(this)},ia:function(){this.Nb.ia()},cf:function(c){return new I.om(c,3)},action:function(){return I.Uca(this.q/2,3)}});I.vt.create=function(d,e){return new I.vt(d,e)};I.BE=I.vt.extend({ctor:function(d,e){I.vt.prototype.ctor.call(this);e&&this.n(d,e)},action:function(){return I.Vca(this.q/2,3)}});I.BE.create=function(d,e){return new I.BE(d,e)};I.Bj=I.$.extend({Nb:s,ctor:function(d,e){I.$.prototype.ctor.call(this);this.Nb=new I.Ax;e&&this.n(d,e)},wh:function(){this.ug=u},U:function(){I.$.prototype.U.call(this);this.Nb.im(this.Ma);this.Nb.U();var c=I.O.kb(),c=this.Nn(I.size(0|12*(c.width/c.height),12));this.Nb.ma(I.Ha(this.cf(c),I.Db(this.finish,this),I.Sw()))},ia:function(){this.ha.ia();this.Nb.ia()},cf:ca(),Nn:function(c){return I.c6(this.q,c)}});I.Bj.create=function(d,e){return new I.Bj(d,e)};I.gE=I.Bj.extend({ctor:function(d,e){I.Bj.prototype.ctor.call(this);e&&this.n(d,e)},Nn:function(c){return I.a6(this.q,c)}});I.gE.create=function(d,e){return new I.gE(d,e)};I.iE=I.Bj.extend({ctor:function(d,e){I.Bj.prototype.ctor.call(this);e&&this.n(d,e)},Nn:function(c){return new I.E0(this.q,c)}});I.iE.create=function(d,e){return new I.iE(d,e)};I.hE=I.Bj.extend({ctor:function(d,e){I.Bj.prototype.ctor.call(this);e&&this.n(d,e)},Nn:function(c){return I.b6(this.q,c)}});I.hE.create=function(d,e){return new I.hE(d,e)};I.SD=49153;I.me=I.$.extend({Lc:0,Gc:0,Qu:s,$b:"TransitionProgress",ctor:function(d,e){I.$.prototype.ctor.call(this);e&&this.n(d,e)},ol:function(e,g,f){e.na({x:g,y:f,anchorX:0.5,anchorY:0.5})},U:function(){I.$.prototype.U.call(this);this.RH();var d=I.O.kb(),e=new I.le(d.width,d.height);e.sprite.anchorX=0.5;e.sprite.anchorY=0.5;this.ol(e,d.width/2,d.height/2);e.clear(0,0,0,1);e.Rf();this.Qu.ia();e.end();this.Qu===this.Ma&&this.YB();d=this.il(e);e=I.Ha(I.qC(this.q,this.Gc,this.Lc),I.Db(this.finish,this));d.ma(e);this.N(d,2,I.SD)},Qa:function(){this.wC(I.SD,p);I.$.prototype.Qa.call(this)},RH:function(){this.Qu=this.Ma;this.Gc=100;this.Lc=0},il:function(){I.log("cc.TransitionProgress._progressTimerNodeWithRenderTexture(): should be overridden in subclass");return s},wh:function(){this.ug=u}});I.me.create=function(d,e){return new I.me(d,e)};I.uE=I.me.extend({ctor:function(d,e){I.me.prototype.ctor.call(this);e&&this.n(d,e)},il:function(d){var e=I.O.kb();d=new I.ua(d.sprite);I.ja===I.t.zb&&(d.sprite.flippedY=p);d.type=I.ua.Aj;d.reverseDir=u;d.percentage=100;this.ol(d,e.width/2,e.height/2);return d}});I.uE.create=function(d,e){return new I.uE(d,e)};I.gy=I.me.extend({ctor:function(d,e){I.me.prototype.ctor.call(this);e&&this.n(d,e)},il:function(d){var e=I.O.kb();d=new I.ua(d.sprite);I.ja===I.t.zb&&(d.sprite.flippedY=p);d.type=I.ua.Aj;d.reverseDir=p;d.percentage=100;this.ol(d,e.width/2,e.height/2);return d}});I.gy.create=function(e,g){var f=new I.gy;return f!==s&&f.n(e,g)?f:new I.gy(e,g)};I.rE=I.me.extend({ctor:function(d,e){I.me.prototype.ctor.call(this);e&&this.n(d,e)},il:function(d){var e=I.O.kb();d=new I.ua(d.sprite);I.ja===I.t.zb&&(d.sprite.flippedY=p);d.type=I.ua.Kk;d.midPoint=I.d(1,0);d.barChangeRate=I.d(1,0);d.percentage=100;this.ol(d,e.width/2,e.height/2);return d}});I.rE.create=function(d,e){return new I.rE(d,e)};I.vE=I.me.extend({ctor:function(d,e){I.me.prototype.ctor.call(this);e&&this.n(d,e)},il:function(d){var e=I.O.kb();d=new I.ua(d.sprite);I.ja===I.t.zb&&(d.sprite.flippedY=p);d.type=I.ua.Kk;d.midPoint=I.d(0,0);d.barChangeRate=I.d(0,1);d.percentage=100;this.ol(d,e.width/2,e.height/2);return d}});I.vE.create=function(d,e){return new I.vE(d,e)};I.sE=I.me.extend({ctor:function(d,e){I.me.prototype.ctor.call(this);e&&this.n(d,e)},il:function(d){var e=I.O.kb();d=new I.ua(d.sprite);I.ja===I.t.zb&&(d.sprite.flippedY=p);d.type=I.ua.Kk;d.midPoint=I.d(0.5,0.5);d.barChangeRate=I.d(1,1);d.percentage=0;this.ol(d,e.width/2,e.height/2);return d},wh:function(){this.ug=u},RH:function(){this.Qu=this.ha;this.Gc=0;this.Lc=100}});I.sE.create=function(d,e){return new I.sE(d,e)};I.tE=I.me.extend({ctor:function(d,e){I.me.prototype.ctor.call(this);e&&this.n(d,e)},il:function(d){var e=I.O.kb();d=new I.ua(d.sprite);I.ja===I.t.zb&&(d.sprite.flippedY=p);d.type=I.ua.Kk;d.midPoint=I.d(0.5,0.5);d.barChangeRate=I.d(1,1);d.percentage=100;this.ol(d,e.width/2,e.height/2);return d}});I.tE.create=function(d,e){return new I.tE(d,e)};I.qE=I.$.extend({ctor:function(e,g,f){I.$.prototype.ctor.call(this);this.Nb=new I.Ax;this.n(e,g,f)},Yp:p,Nb:s,$b:"TransitionPageTurn",n:function(e,g,f){this.Yp=f;I.$.prototype.n.call(this,e,g);return p},Nn:function(c){return this.Yp?I.VK(I.HX(this.q,c)):I.HX(this.q,c)},U:function(){I.$.prototype.U.call(this);var d=I.O.kb(),e;d.width>d.height?(d=16,e=12):(d=12,e=16);d=this.Nn(I.size(d,e));e=this.Nb;this.Yp?(e.im(this.ha),e.U(),this.ha.visible=u,e.ma(I.Ha(d,I.Db(this.finish,this),I.Sw())),this.ha.ma(I.show())):(e.im(this.Ma),e.U(),e.ma(I.Ha(d,I.Db(this.finish,this),I.Sw())))},ia:function(){this.Yp?this.Ma.ia():this.ha.ia();this.Nb.ia()},wh:function(){this.ug=this.Yp}});I.qE.create=function(e,g,f){return new I.qE(e,g,f)};(function(){function aT(d,e){return(e-d.nY)*d.SC}function aS(d,e){return(d.oY-e)*d.SC}function aP(F,C,B,z,x,w){var v;v=F.Lg+C.Lg;var t=F.Na,r=B.x*B.x*t;F=-B.x*B.y*t;B=v+B.y*B.y*t;v+=r;t=C.Na;C=z.x*z.x*t;r=-z.x*z.y*t;B+=z.y*z.y*t;z=0+F+r;F=0+F+r;v+=C;C=B*v-z*F;bn(0!==C,"Unsolvable constraint.");C=1/C;x.x=v*C;x.y=-z*C;w.x=-F*C;w.y=B*C}function aO(f,r,n,k,h){f=aM(f,n,h)+aM(r,k,h);bn(0!==f,"Unsolvable collision or constraint.");return f}function aM(e,g,f){g=l(g,f);return e.Lg+e.Na*g*g}function aL(f,k,h,g){f.bp+=k*f.Lg;f.dp+=h*f.Lg;f.Ck+=f.Na*(g.x*h-g.y*k)}function aK(h,v,t,r,n,k){aH(h,-n,-k,t);aH(v,n,k,r)}function aH(f,k,h,g){f.sd+=k*f.Lg;f.td+=h*f.Lg;f.m+=f.Na*(g.x*h-g.y*k)}function aG(g,r,n,k,h){return(r.sd+-k.y*r.m-(g.sd+-n.y*g.m))*h.x+(r.td+k.x*r.m-(g.td+n.x*g.m))*h.y}function aE(f,k,h,g){return new bj(k.sd+-g.y*k.m-(f.sd+-h.y*f.m),k.td+g.x*k.m-(f.td+h.x*f.m))}function aD(d){var e=d.body;d.update(e.d,e.uc)}function aC(e,g){if(!g.Lh()){var f=g?g.tk:s;if(f==s){g.tk=e;g!==e&&(g.Ng=e.Ng,e.Ng=g);for(f=g.Hl;f;f=f.next(g)){aC(e,g==f.Xb?f.Dg:f.Xb)}for(f=g.pv;f;f=f.next(g)){aC(e,g==f.a?f.b:f.a)}}else{bn(f===e,"Internal Error: Inconsistency detected in the contact graph.")}}}function bq(c){a8(!c.vo,"This addition/removal cannot be done safely during a call to cpSpaceStep()  or during a query. Put these calls into a post-step callback.")}function aB(L,K,J,H,G){for(var F=l(K.Zh,K.Id),C=l(K.Zh,K.Fe),B=a3(K.Zh,G),z=J.Yh,x=0;x<z.length;x+=2){var Q=z[x],O=z[x+1];if(Q*B.x+O*B.y<aZ(K.Zh,K.Id)*G+K.r){var N=K.Zh.x*O-K.Zh.y*Q;F>=N&&N>=C&&L.push(new bd(new bj(Q,O),B,H,aR(J.tc,x)))}}}function az(f,k,h){var g=aZ(k,f.Id)-f.r;f=aZ(k,f.Fe)-f.r;return a7(g,f)-h}function aA(F,C,B,z){for(var x=[],w=F.Yh,v=0;v<w.length;v+=2){var t=w[v],r=w[v+1];C.qv(t,r)&&x.push(new bd(new bj(t,r),B,z,aR(F.tc,v>>1)))}w=C.Yh;for(v=0;v<w.length;v+=2){t=w[v],r=w[v+1],F.qv(t,r)&&x.push(new bd(new bj(t,r),B,z,aR(C.tc,v>>1)))}if(!x.length){x=[];w=F.Yh;for(v=0;v<w.length;v+=2){t=w[v],r=w[v+1],C.$I(t,r,bF(B))&&x.push(new bd(new bj(t,r),B,z,aR(F.tc,v)))}w=C.Yh;for(v=0;v<w.length;v+=2){t=w[v],r=w[v+1],F.$I(t,r,B)&&x.push(new bd(new bj(t,r),B,z,aR(C.tc,v)))}}return F=x}function bl(h,v){var t=0,r=h.Xw(v[0].fa,v[0].I);if(0<r){return -1}for(var n=1;n<v.length;n++){var k=h.Xw(v[n].fa,v[n].I);if(0<k){return -1}k>r&&(r=k,t=n)}bk=r;return t}function bf(g,r,n,k){k=n+k;r=a2(r,g);var h=ar(r);if(!(h>=k*k)){return h=Math.sqrt(h),new bd(a5(g,a3(r,0.5+(n-0.5*k)/(h?h:Infinity))),h?a3(r,1/h):new bj(1,0),h-k,0)}}function bd(f,k,h,g){this.d=f;this.fa=k;this.or=h;this.ra=this.ta=bz;this.Oc=this.Tl=this.Cr=this.Mg=this.KL=this.OI=this.rb=0;this.hash=g;ap++}function a9(e,g,f){g?g.Xb===e?g.Uo=f:g.Wo=f:e.Hl=f;f&&(f.Xb===e?f.Vo=g:f.Xo=g)}function bi(d,e){this.u=this.Ml=0;this.JL=bz;this.a=d;this.Xb=d.body;this.b=e;this.Dg=e.body;this.Uf=this.Wo=this.Xo=this.Uo=this.Vo=s;this.vc=0;this.RJ=s;this.PZ=u;this.state="first coll"}function bh(f,k){!f.Wv&&10>=k&&(bh(f.ud,k+1),bh(f.Ge,k+1));for(var h="",g=0;g<k;g++){h+=" "}console.log(h+f.Za+" "+f.$a)}function bx(d,e){return d.bb<=e.cb&&e.bb<=d.cb&&d.Za<=e.$a&&e.Za<=d.$a}function bO(f,k,h){if(k==f){return s}var g=k.parent;if(g==f){return k=f.qK(k),k.parent=f.parent,f.am(h),k}g.parent.replaceChild(g,g.qK(k),h);return f}function af(e,g,f){e.eK(g)&&(e.Wv?f(e.ij):(af(e.ud,g,f),af(e.Ge,g,f)))}function aq(g,r,n){if(g==s){return r}if(g.Wv){return n.sX(r,g)}var k=g.Ge.iB()+bS(g.ud,r),h=g.ud.iB()+bS(g.Ge,r);k===h&&(k=ai(g.ud,r),h=ai(g.Ge,r));h<k?g.GC(aq(g.Ge,r,n)):g.FC(aq(g.ud,r,n));g.bb=a7(g.bb,r.bb);g.Za=a7(g.Za,r.Za);g.cb=ad(g.cb,r.cb);g.$a=ad(g.$a,r.$a);return g}function ai(d,e){return Math.abs(d.bb+d.cb-e.bb-e.cb)+Math.abs(d.Za+d.$a-e.Za-e.$a)}function bS(d,e){return(ad(d.cb,e.cb)-a7(d.bb,e.bb))*(ad(d.$a,e.$a)-a7(d.Za,e.Za))}function bE(g,r,n){var k=g.vk,h=r.vk;n=n.tX(g,k,r,h);g.vk=r.vk=n;k&&(k.rk===g?k.$l=n:k.Vr=n);h&&(h.rk===r?h.$l=n:h.Vr=n)}function bt(e,g,f){f&&(f.rk===g?f.$l=e:f.Vr=e);e?e.rk===g?e.Lr=f:e.Mr=f:g.vk=f}function aW(f,k,h,g){this.$l=s;this.rk=f;this.Lr=k;this.Vr=s;this.fC=h;this.Mr=g}function aX(d,e){this.ij=e;d.IB(e,this);this.parent=s;this.vc=1;this.vk=s;ae++}function bC(e,g,f){this.ij=s;this.bb=a7(g.bb,f.bb);this.Za=a7(g.Za,f.Za);this.cb=ad(g.cb,f.cb);this.$a=ad(g.$a,f.$a);this.parent=s;this.FC(g);this.GC(f)}function ax(d,e){this.fa=d;this.I=e}function al(g){for(var r=g.length,n=0;n<r;n+=2){var k=g[(n+2)%r],h=g[(n+3)%r];if(0<(k-g[n])*(g[(n+5)%r]-h)-(h-g[n+1])*(g[(n+4)%r]-k)){return u}}return p}function a0(e,g,f){return a7(ad(e,g),f)}function bB(H,G,F,C,B,z,x,w){if(0>C){return 0}if(0==C){return G[2*w]=z.x,G[2*w+1]=z.y,1}var v=br(G,F,C,B,z,H),t=new bj(G[2*F],G[2*F+1]);B=bB(H,G,F+1,v-1,B,t,z,w);t=w+B++;G[2*t]=z.x;G[2*t+1]=z.y;C=br(G,F+v,C-v,z,x,H);t=new bj(G[2*(F+v)],G[2*(F+v)+1]);return B+bB(H,G,F+v+1,C-1,z,t,x,w+B)}function br(H,G,F,C,B,z){if(0===F){return 0}var x=0,w=G;B=a2(B,C);z*=bP(B);var v=G;for(F=G+F-1;v<=F;){var t=new bj(H[2*v],H[2*v+1]),t=l(B,a2(t,C));t>z?(t>x&&(x=t,w=v),v++):(an(H,v,F),F--)}w!=G&&an(H,G,w);return v-G}function an(f,k,h){var g=f[2*k];f[2*k]=f[2*h];f[2*h]=g;g=f[2*k+1];f[2*k+1]=f[2*h+1];f[2*h+1]=g}function bu(e,g){for(var f=0;f<e.length;f++){if(e[f]===g){e[f]=e[e.length-1];e.length--;break}}}function aR(d,e){return d<e?d+" "+e:e+" "+d}function bN(d,e){return d>e?d:e}function bA(d,e){return d<e?d:e}function bn(d,e){!d&&(console&&console.warn)&&(console.warn("ASSERTION FAILED: "+e),console.trace&&console.trace())}function a8(d,e){d||b(Error("Assertion failed: "+e))}Object.create=Object.create||function(d){function e(){}e.prototype=d;return new e};var bp;"undefined"===typeof exports?(bp={},"object"===typeof window&&(window.cp=bp)):bp=exports;var a7,ad;"object"===typeof window&&-1<window.navigator.userAgent.indexOf("Firefox")?(a7=Math.min,ad=Math.max):(a7=bA,ad=bN);bp.R9=function(f,k,h,g){return f*(0.5*(k*k+h*h)+ar(g))};bp.V3=function(d,e){return Math.PI*Math.abs(d*d-e*e)};bp.S9=function(f,k,h){var g=a3(a5(k,h),0.5);return f*(aU(h,k)/12+ar(g))};bp.X3=function(e,g,f){return f*(Math.PI*f+2*bm(e,g))};bp.vX=function(J){for(var H=cp.Zw,G=0,F=0,C=J.length,B=0;B<C;B+=2){var z=J[B]+H.x,x=J[B+1]+H.y,w=J[(B+2)%C]+H.x,v=J[(B+3)%C]+H.y,K=w*x-v*z,G=G+K*(z*z+x*x+(z*w+x*v)+(w*w+v*v)),F=F+K}return 1*G/(6*F)};bp.W3=function(f){for(var k=0,h=0,g=f.length;h<g;h+=2){k+=l(new bj(f[h],f[h+1]),new bj(f[(h+2)%g],f[(h+3)%g]))}return -k/2};bp.eU=function(n){for(var B=0,z=new bj(0,0),x=0,w=n.length;x<w;x+=2){var v=new bj(n[x],n[x+1]),t=new bj(n[(x+2)%w],n[(x+3)%w]),r=l(v,t),B=B+r,z=a5(z,a3(a5(v,t),r))}return a3(z,1/(3*B))};bp.raa=function(e){for(var g=bp.eU(e),f=0;f<e.length;f+=2){e[f]-=g.x,e[f+1]-=g.y}};bp.uX=function(e,g,f){return e*(g*g+f*f)/12};bp.Q9=function(g,r){var n=r.r-r.ro,k=r.of-r.b,h=a3([r.ro+r.r,r.b+r.of],0.5);return bp.uX(g,n,k)+g*ar(h)};var aQ=bp.M9=function(J){var H=0,G=0,F,C,B,z;F=B=J[0];C=z=J[1];for(var x=J.length>>1,w=1;w<x;w++){var v=J[2*w],K=J[2*w+1];if(v<F||v==F&&K<C){F=v,C=K,H=w}else{if(v>B||v==B&&K>z){B=v,z=K,G=w}}}return[H,G]};bp.A4=function(g,r,n){if(r){for(var k=0;k<g.length;k++){r[k]=g[k]}}else{r=g}var h=aQ(g),k=h[0],h=h[1];if(k==h){return r.length=2,r}an(r,0,k);an(r,1,0==h?k:h);k=new bj(r[0],r[1]);h=new bj(r[2],r[3]);g=bB(n,r,2,(g.length>>1)-2,k,h,k,1)+1;r.length=2*g;bn(al(r),"Internal error: cpConvexHull() and cpPolyValidate() did not agree.Please report this error with as much info as you can.");return r};var bj=bp.p2=function(d,e){this.x=d;this.y=e};bp.v=function(d,e){return new bj(d,e)};var bz=bp.Zw=new bj(0,0),aZ=bp.v.Ui=function(d,e){return d.x*e.x+d.y*e.y},bP=bp.v.B9=function(c){return Math.sqrt(aZ(c,c))};bp.v.C9=function(d,e){return Math.sqrt(d*d+e*e)};bp.v.J5=function(d,e){return d.x===e.x&&d.y===e.y};var a5=bp.v.add=function(d,e){return new bj(d.x+e.x,d.y+e.y)};bj.prototype.add=function(c){this.x+=c.x;this.y+=c.y;return this};var a2=bp.v.sub=function(d,e){return new bj(d.x-e.x,d.y-e.y)};bj.prototype.sub=function(c){this.x-=c.x;this.y-=c.y;return this};var bF=bp.v.yX=function(c){return new bj(-c.x,-c.y)};bj.prototype.yX=function(){this.x=-this.x;this.y=-this.y;return this};var a3=bp.v.jC=function(d,e){return new bj(d.x*e,d.y*e)};bj.prototype.jC=function(c){this.x*=c;this.y*=c;return this};var l=bp.v.Fg=function(d,e){return d.x*e.y-d.y*e.x},ay=bp.v.daa=function(c){return new bj(-c.y,c.x)};bp.v.kaa=function(c){return new bj(c.y,-c.x)};var au=bp.v.TX=function(d,e){return a3(e,aZ(d,e)/ar(e))};bj.prototype.TX=function(c){this.jC(aZ(this,c)/ar(c));return this};var bL=bp.v.rotate=function(d,e){return new bj(d.x*e.x-d.y*e.y,d.x*e.y+d.y*e.x)};bj.prototype.rotate=function(c){this.x=this.x*c.x-this.y*c.y;this.y=this.x*c.y+this.y*c.x;return this};var ah=bp.v.yda=function(d,e){return new bj(d.x*e.x+d.y*e.y,d.y*e.x-d.x*e.y)},ar=bp.v.D9=function(c){return aZ(c,c)};bp.v.E9=function(d,e){return d*d+e*e};bp.v.gC=function(e,g,f){return a5(a3(e,1-f),a3(g,f))};var am=bp.v.normalize=function(c){return a3(c,1/bP(c))},av=bp.v.f$=function(c){return 0===c.x&&0===c.y?bz:am(c)},o=bp.v.hr=function(d,e){return aZ(d,d)>e*e?a3(am(d),e):d};bp.v.F9=function(e,g,f){return a5(e,o(a2(g,e),f))};var bm=bp.v.or=function(d,e){return bP(a2(d,e))},aU=bp.v.O4=function(d,e){return ar(a2(d,e))};bp.v.Y9=function(e,g,f){return aU(e,g)<f*f};var bR=bp.v.DZ=function(g,r,n){var k=Math.acos(aZ(g,r));if(k){var h=1/Math.sin(k);return a5(a3(g,Math.sin((1-n)*k)*h),a3(r,Math.sin(n*k)*h))}return g};bp.v.Tca=function(f,k,h){var g=Math.acos(aZ(f,k));return bR(f,k,a7(h,g)/g)};bp.v.h6=function(c){return new bj(Math.cos(c),Math.sin(c))};bp.v.rda=function(c){return Math.atan2(c.y,c.x)};bp.v.bda=function(c){return"("+c.x.toFixed(3)+", "+c.y.toFixed(3)+")"};var bD=0,q=bp.H_=function(f,k,h,g){this.ro=f;this.b=k;this.r=h;this.of=g;bD++};bp.e4=function(f,k,h,g){return new q(f,k,h,g)};var aj=0;bp.m1=0;var bs=bp.A_=-1;bp.Qaa=function(){aj=0};var bg=bp.Q1=function(c){this.body=c;this.bb=this.Za=this.cb=this.$a=0;this.tc=aj++;this.aL=u;this.u=this.Ml=0;this.IL=bz;this.group=this.Tn=0;this.eC=bs;this.fb=s;this.$e=this.$e};bg.prototype.Iw=A("Ml");bg.prototype.Jw=function(c){this.body.ld();this.u=c};bg.prototype.Kw=function(c){this.body.ld();this.eC=c};bg.prototype.Fw=function(c){this.body.ld();this.Tn=c};bg.prototype.mk=D("body");bg.prototype.sT=function(){return this.body&&-1!==this.body.oj.indexOf(this)};bg.prototype.Dw=function(c){a8(!this.sT(),"You cannot change the body on an active shape. You must remove the shape from the space before changing the body.");this.body=c};bg.prototype.update=function(d,e){a8(!isNaN(e.x),"Rotation is NaN");a8(!isNaN(d.x),"Position is NaN");this.jB(d,e)};bg.prototype.IB=function(){return new q(this.bb,this.Za,this.cb,this.$a)};var bJ=bp.zM=function(e,g,f){this.c=this.pf=f;this.r=g;this.type="circle";bg.call(this,e)};bJ.prototype=Object.create(bg.prototype);bJ.prototype.jB=function(f,k){var h=this.pf=bL(this.c,k).add(f),g=this.r;this.bb=h.x-g;this.Za=h.y-g;this.cb=h.x+g;this.$a=h.y+g};var bo=bp.ym=function(f,k,h,g){this.a=k;this.b=h;this.fa=ay(am(a2(h,k)));this.Id=this.Fe=this.Zh=s;this.r=g;this.VT=this.nT=bz;this.type="segment";bg.call(this,f)};bo.prototype=Object.create(bg.prototype);bo.prototype.jB=function(k,x){this.Id=a5(k,bL(this.a,x));this.Fe=a5(k,bL(this.b,x));this.Zh=bL(this.fa,x);var w,v,t,r;this.Id.x<this.Fe.x?(w=this.Id.x,v=this.Fe.x):(w=this.Fe.x,v=this.Id.x);this.Id.y<this.Fe.y?(t=this.Id.y,r=this.Fe.y):(t=this.Fe.y,r=this.Id.y);var n=this.r;this.bb=w-n;this.Za=t-n;this.cb=v+n;this.$a=r+n};var bM=bp.Fx=function(e,g,f){this.wZ(g,f);this.type="poly";bg.call(this,e)};bM.prototype=Object.create(bg.prototype);bM.prototype.wZ=function(k,x){a8(4<=k.length,"Polygons require some verts");a8("number"===typeof k[0],"Polygon verticies should be specified in a flattened list (eg [x1,y1,x2,y2,x3,y3,...])");a8(al(k),"Polygon is concave or has a reversed winding. Consider using cpConvexHull()");var w=k.length,v=w>>1;this.Kd=Array(w);this.Yh=Array(w);this.zK=Array(v);this.Xh=Array(v);for(v=0;v<w;v+=2){var t=k[v]+x.x,r=k[v+1]+x.y,n=am(ay(new bj(k[(v+2)%w]+x.x-t,k[(v+3)%w]+x.y-r)));this.Kd[v]=t;this.Kd[v+1]=r;this.zK[v>>1]=new ax(n,n.x*t+n.y*r);this.Xh[v>>1]=new ax(new bj(0,0),0)}};bp.U_=function(e,g,f){g/=2;f/=2;return aV(e,new q(-g,-f,g,f))};var aV=bp.V_=function(d,e){return new bM(d,[e.ro,e.b,e.ro,e.of,e.r,e.of,e.r,e.b],bz)};bM.prototype.f_=function(K,J){for(var H=this.Kd,G=this.Yh,F=Infinity,C=-Infinity,B=Infinity,z=-Infinity,x=0;x<H.length;x+=2){var w=H[x],N=H[x+1],L=K.x+w*J.x-N*J.y,w=K.y+w*J.y+N*J.x;G[x]=L;G[x+1]=w;F=a7(F,L);C=ad(C,L);B=a7(B,w);z=ad(z,w)}this.bb=F;this.Za=B;this.cb=C;this.$a=z};bM.prototype.e_=function(h,v){for(var t=this.zK,r=this.Xh,n=0;n<t.length;n++){var k=bL(t[n].fa,v);r[n].fa=k;r[n].I=aZ(h,k)+t[n].I}};bM.prototype.jB=function(d,e){this.e_(d,e);this.f_(d,e)};bM.prototype.Xw=function(g,r){for(var n=this.Yh,k=g.x*n[0]+g.y*n[1],h=2;h<n.length;h+=2){k=a7(k,g.x*n[h]+g.y*n[h+1])}return k-r};bM.prototype.qv=function(g,r){for(var n=this.Xh,k=0;k<n.length;k++){var h=n[k].fa;if(0<h.x*g+h.y*r-n[k].I){return u}}return p};bM.prototype.$I=function(h,v,t){for(var r=this.Xh,n=0;n<r.length;n++){var k=r[n].fa;if(!(0>aZ(k,t))&&0<k.x*h+k.y*v-r[n].I){return u}}return p};var a4=bp.oD=function(d,e){this.d=new bj(0,0);this.sd=this.td=0;this.Xn=new bj(0,0);this.of=this.m=0;this.eD=this.cD=Infinity;this.Ck=this.bp=this.dp=0;this.fb=s;this.oj=[];this.Ng=this.tk=this.pv=this.Hl=s;this.hj=0;this.OY(d);this.SY(e);this.uc=new bj(0,0);this.uY()};bp.b2=function(){var c=new a4(Infinity,Infinity);c.hj=Infinity;return c};if("undefined"!==typeof DEBUG&&DEBUG){var aN=function(d,e){a8(d.x==d.x&&d.y==d.y,e)},at=function(d,e){a8(Infinity!==Math.abs(d.x)&&Infinity!==Math.abs(d.y),e)};a4.prototype.cs=function(){a8(this.Jr===this.Jr&&this.Lg===this.Lg,"Body's mass is invalid.");a8(this.ko===this.ko&&this.Na===this.Na,"Body's moment is invalid.");var c=this.d;aN(c,"Body's position is invalid.");at(c,"Body's position is invalid.");c=this.Xn;aN(c,"Body's force is invalid.");at(c,"Body's force is invalid.");a8(this.sd===this.sd&&Infinity!==Math.abs(this.sd),"Body's velocity is invalid.");a8(this.td===this.td&&Infinity!==Math.abs(this.td),"Body's velocity is invalid.");a8(this.a===this.a&&Infinity!==Math.abs(this.a),"Body's angle is invalid.");a8(this.m===this.m&&Infinity!==Math.abs(this.m),"Body's angular velocity is invalid.");a8(this.of===this.of&&Infinity!==Math.abs(this.of),"Body's torque is invalid.");c=this.uc;aN(c,"Body's rotation vector is invalid.");at(c,"Body's rotation vector is invalid.");a8(this.cD===this.cD,"Body's velocity limit is invalid.");a8(this.eD===this.eD,"Body's angular velocity limit is invalid.")}}else{a4.prototype.cs=y()}a4.prototype.bj=function(){return this.tk!==s};a4.prototype.fe=function(){return Infinity===this.hj};a4.prototype.Lh=function(){return this.fb===s};a4.prototype.OY=function(c){a8(0<c,"Mass must be positive and non-zero.");this.ld();this.Jr=c;this.Lg=1/c};a4.prototype.SY=function(c){a8(0<c,"Moment of Inertia must be positive and non-zero.");this.ld();this.ko=c;this.Na=1/c};a4.prototype.Gl=function(c){this.oj.push(c)};a4.prototype.as=function(c){bu(this.oj,c)};a4.prototype.qL=function(c){this.ld();this.cs();c===bz&&(c=bp.v(0,0));this.d=c};a4.prototype.Qw=function(c){this.ld();this.sd=c.x;this.td=c.y};a4.prototype.eL=function(c){a8(!isNaN(c),"Internal Error: Attempting to set body's angle to NaN");this.a=c;this.uc.x=Math.cos(c);this.uc.y=Math.sin(c)};a4.prototype.uY=function(){this.ld();this.cs();this.eL(0)};a4.prototype.m_=function(h,v,t){var r=this.sd*v+(h.x+this.Xn.x*this.Lg)*t;h=this.td*v+(h.y+this.Xn.y*this.Lg)*t;var n=this.cD,k=r*r+h*h,n=k>n*n?n/Math.sqrt(k):1;this.sd=r*n;this.td=h*n;r=this.eD;this.m=a0(this.m*v+this.of*this.Na*t,-r,r);this.cs()};a4.prototype.PX=function(c){this.d.x+=(this.sd+this.bp)*c;this.d.y+=(this.td+this.dp)*c;this.eL(this.a+(this.m+this.Ck)*c);this.Ck=this.bp=this.dp=0;this.cs()};a4.prototype.RT=function(){var d=cp.v(0,-1800),e=cp.v(0,20);this.ld();this.Xn=a5(this.Xn,d);this.of+=l(e,d)};a4.prototype.ze=function(d,e){this.ld();aH(this,d.x,d.y,e)};a4.prototype.yv=function(e){for(var g=0,f=this.oj.length;g<f;g++){e(this.oj[g])}};a4.prototype.xv=function(e){for(var g=this.pv;g;){var f=g.next(this);e(g);g=f}};a4.prototype.Kg=function(c){return a5(this.d,bL(c,this.uc))};a4.prototype.aM=function(c){return ah(a2(c,this.d),this.uc)};a4.prototype.lX=function(){var d=this.sd*this.sd+this.td*this.td,e=this.m*this.m;return(d?d*this.Jr:0)+(e?e*this.ko:0)};var ag=bp.T1=function(c){if(this.FL=c){c.Wn&&b(Error("This static index is already associated with a dynamic index.")),c.Wn=this}};ag.prototype.iU=function(e,g){if(0<e.count){var f=e.XX;this.Nl(function(c){f(c,new q(c.bb,c.Za,c.cb,c.$a),g)})}};var aJ=bp.I_=function(c){ag.call(this,c);this.l_=s;this.so={};this.count=0;this.nw=this.mw=this.root=s;this.vc=0};aJ.prototype=Object.create(ag.prototype);var aw=0;aJ.prototype.sX=function(e,g){var f=this.mw;if(f){return this.mw=f.parent,f.constructor(this,e,g),f}aw++;return new bC(0,e,g)};var ae=0;aJ.prototype.IB=function(g,r){var n=this.l_;if(n){var k=0.1*(g.cb-g.bb),h=0.1*(g.$a-g.Za),n=a3(n(g),0.1);r.bb=g.bb+a7(-k,n.x);r.Za=g.Za+a7(-h,n.y);r.cb=g.cb+ad(k,n.x);r.$a=g.$a+ad(h,n.y)}else{r.bb=g.bb,r.Za=g.Za,r.cb=g.cb,r.$a=g.$a}};aJ.prototype.QB=function(){var c=this.Wn;return c&&c.vc?c.vc:this.vc};aJ.prototype.UJ=function(){this.Wn&&this.Wn.vc?this.Wn.vc++:this.vc++};var ak=0;aJ.prototype.tX=function(g,r,n,k){var h=this.nw;if(h){return this.nw=h.$l,h.$l=s,h.rk=g,h.Lr=r,h.Vr=s,h.fC=n,h.Mr=k,h}ak++;return new aW(g,r,n,k)};aW.prototype.am=function(c){this.$l=c.nw;c.nw=this};aX.prototype.WI=function(e){var g=this.vk,f;for(this.vk=s;g;){g.rk===this?(f=g.Lr,bt(g.Vr,g.fC,g.Mr)):(f=g.Mr,bt(g.$l,g.rk,g.Lr)),g.am(e),g=f}};bC.prototype.am=function(c){this.parent=c.mw;c.mw=this};aX.prototype.am=y();bC.prototype.FC=function(c){this.ud=c;c.parent=this};bC.prototype.GC=function(c){this.Ge=c;c.parent=this};aX.prototype.Wv=p;bC.prototype.Wv=u;bC.prototype.qK=function(c){return this.ud==c?this.Ge:this.ud};bC.prototype.replaceChild=function(e,g,f){bn(e==this.ud||e==this.Ge,"Node is not a child of parent.");this.ud==e?(this.ud.am(f),this.FC(g)):(this.Ge.am(f),this.GC(g));for(e=this;e;e=e.parent){g=e.ud,f=e.Ge,e.bb=a7(g.bb,f.bb),e.Za=a7(g.Za,f.Za),e.cb=ad(g.cb,f.cb),e.$a=ad(g.$a,f.$a)}};bC.prototype.iB=aX.prototype.iB=function(){return(this.cb-this.bb)*(this.$a-this.Za)};bC.prototype.eK=aX.prototype.eK=function(c){return this.bb<=c.r&&c.ro<=this.cb&&this.Za<=c.of&&c.b<=this.$a};aX.prototype.Wl=function(f,k,h,g){bx(f,this)&&(k?bE(f,this,h):(this.vc<f.vc&&bE(this,f,h),g&&g(f.ij,this.ij)))};bC.prototype.Wl=function(f,k,h,g){bx(f,this)&&(this.ud.Wl(f,k,h,g),this.Ge.Wl(f,k,h,g))};aX.prototype.Kr=function(e,g,f){if(this.vc==e.QB()){g&&g.Wl(this,u,e,f);for(g=this;g.parent;g=g.parent){g==g.parent.ud?g.parent.Ge.Wl(this,p,e,f):g.parent.ud.Wl(this,u,e,f)}}else{for(e=this.vk;e;){this===e.fC?(f&&f(e.rk.ij,this.ij),e=e.Mr):e=e.Lr}}};bC.prototype.Kr=function(e,g,f){this.ud.Kr(e,g,f);this.Ge.Kr(e,g,f)};aX.prototype.qU=function(c){return this.bb<=c.bb&&this.cb>=c.cb&&this.Za<=c.Za&&this.$a>=c.$a};aX.prototype.update=function(d){var e=d.root;return !this.qU(this.ij)?(d.IB(this.ij,this),e=bO(e,this,d),d.root=aq(e,this,d),this.WI(d),this.vc=d.QB(),p):u};aX.prototype.wT=function(d){var e=d.Wn;e?(d=e.root)&&d.Wl(this,p,e,s):this.Kr(d,d.FL.root,s)};aJ.prototype.yr=function(e,g){var f=new aX(this,e);this.so[g]=f;this.root=aq(this.root,f,this);this.count++;f.vc=this.QB();f.wT(this);this.UJ()};aJ.prototype.remove=function(e,g){var f=this.so[g];delete this.so[g];this.root=bO(this.root,f,this);this.count--;f.WI(this);f.am(this)};aJ.prototype.ZX=function(e){if(this.root){var g,f=this.so;for(g in f){f[g].update(this)}f=(g=this.FL)&&g.root;this.root.Kr(this,f,e);g&&!f&&this.iU(this,g);this.UJ()}};aJ.prototype.XX=function(d,e){this.root&&af(this.root,d,e)};aJ.prototype.count=D("count");aJ.prototype.Nl=function(d){for(var e in this.so){d(this.so[e].ij)}};aJ.prototype.log=function(){this.root&&bh(this.root,0)};var bw=bp.c0=function(){this.a=this.b=0};bw.prototype.Rf=E(p);bw.prototype.pC=E(p);bi.prototype.yW=function(){this.state="ignore"};bi.prototype.VW=function(){return"first coll"===this.state};bi.prototype.QL=function(){a9(this.Xb,this.Vo,this.Uo);a9(this.Dg,this.Xo,this.Wo);this.Xo=this.Wo=this.Vo=this.Uo=s};bi.prototype.update=function(n,B,z,x){if(this.Uf){for(var w=0;w<this.Uf.length;w++){for(var v=this.Uf[w],t=0;t<n.length;t++){var r=n[t];r.hash===v.hash&&(r.Oc=v.Oc,r.Tl=v.Tl)}}}this.Uf=n;this.RJ=B;this.PZ=z.Tn!==B.a;this.Ml=z.Ml*x.Ml;this.u=z.u*x.u;this.JL=a2(z.IL,x.IL);this.a=z;this.Xb=z.body;this.b=x;this.Dg=x.body;"cached"==this.state&&(this.state="first coll")};bi.prototype.lf=function(e,x,w){for(var v=this.Xb,t=this.Dg,r=0;r<this.Uf.length;r++){var n=this.Uf[r];n.ra=a2(n.d,v.d);n.ta=a2(n.d,t.d);n.Mg=1/aO(v,t,n.ra,n.ta,n.fa);n.KL=1/aO(v,t,n.ra,n.ta,ay(n.fa));n.rb=-w*a7(0,n.or+x)/e;n.Cr=0;n.OI=aG(v,t,n.ra,n.ta,n.fa)*this.Ml}};bi.prototype.Qf=function(h){if(!this.VW()){for(var x=this.Xb,w=this.Dg,v=0;v<this.Uf.length;v++){var t=this.Uf[v],r=t.fa.x,n=t.fa.y;aK(x,w,t.ra,t.ta,(r*t.Oc-n*t.Tl)*h,(r*t.Tl+n*t.Oc)*h)}}};var j=0,bH=0;bi.prototype.ze=function(){j++;for(var O=this.Xb,L=this.Dg,J=this.JL,H=this.u,G=0;G<this.Uf.length;G++){bH++;var F=this.Uf[G],C=F.Mg,g=F.fa,S=F.ra,R=F.ta,Q=L.sd-R.y*L.m-(O.sd-S.y*O.m),N=L.td+R.x*L.m-(O.td+S.x*O.m),K=Q*g.x+N*g.y,h=(Q+J.x)*-g.y+(N+J.y)*g.x,N=F.Cr;F.Cr=ad(N+(F.rb-(g.x*(L.bp-R.y*L.Ck-O.bp+S.y*O.Ck)+g.y*(R.x*L.Ck+L.dp-S.x*O.Ck-O.dp)))*C,0);Q=F.Oc;F.Oc=ad(Q+-(F.OI+K)*C,0);K=H*F.Oc;C=F.Tl;F.Tl=a0(C+-h*F.KL,-K,K);K=g.x*(F.Cr-N);N=g.y*(F.Cr-N);aL(O,-K,-N,S);aL(L,K,N,R);Q=F.Oc-Q;F=F.Tl-C;aK(O,L,S,R,g.x*Q-g.y*F,g.x*F+g.y*Q)}};bi.prototype.next=function(c){return this.Xb==c?this.Uo:this.Wo};var ap=0,bG=[],bk=0;bJ.prototype.$e=0;bo.prototype.$e=1;bM.prototype.$e=2;bJ.prototype.pB=[function(e,g){var f=bf(e.pf,g.pf,e.r,g.r);return f?[f]:bG},function(h,v){var t=v.Id,r=h.pf,n=a2(v.Fe,t),k;k=aZ(n,a2(r,t))/ar(n);k=ad(0,a7(k,1));t=a5(t,a3(n,k));return(r=bf(r,t,h.r,v.r))?(t=r.fa,0===k&&0>aZ(t,v.nT)||1===k&&0>aZ(t,v.VT)?bG:[r]):bG},function(J,H){for(var G=H.Xh,F=0,C=aZ(G[0].fa,J.pf)-G[0].I-J.r,B=0;B<G.length;B++){var z=aZ(G[B].fa,J.pf)-G[B].I-J.r;if(0<z){return bG}z>C&&(C=z,F=B)}var G=G[F].fa,x=H.Yh,w=x.length,v=F<<1,F=x[v],B=x[v+1],z=x[(v+2)%w],x=x[(v+3)%w],w=G.x*B-G.y*F,v=G.x*x-G.y*z,K=l(G,J.pf);return K<v?(C=bf(J.pf,new bj(z,x),J.r,0))?[C]:bG:K<w?[new bd(a2(J.pf,a3(G,J.r+C/2)),bF(G),C,0)]:(C=bf(J.pf,new bj(F,B),J.r,0))?[C]:bG}];bo.prototype.pB=[s,function(){return bG},function(J,H){var G=[],F=H.Xh,C=F.length,B=aZ(J.Zh,J.Id),z=H.Xw(J.Zh,B)-J.r,B=H.Xw(bF(J.Zh),-B)-J.r;if(0<B||0<z){return bG}var x=0,w=az(J,F[0].fa,F[0].I);if(0<w){return bG}for(var v=0;v<C;v++){var K=az(J,F[v].fa,F[v].I);if(0<K){return bG}K>w&&(w=K,x=v)}F=bF(F[x].fa);v=a5(J.Id,a3(F,J.r));K=a5(J.Fe,a3(F,J.r));H.qv(v.x,v.y)&&G.push(new bd(v,F,w,aR(J.tc,0)));H.qv(K.x,K.y)&&G.push(new bd(K,F,w,aR(J.tc,1)));if(z>=w||B>=w){z>B?aB(G,J,H,z,1):aB(G,J,H,B,-1)}if(0===G.length){z=2*x;B=H.Yh;w=new bj(B[z],B[z+1]);if((x=bf(J.Id,w,J.r,0))||(x=bf(J.Fe,w,J.r,0))){return[x]}C*=2;C=new bj(B[(z+2)%C],B[(z+3)%C]);if((x=bf(J.Id,C,J.r,0))||(x=bf(J.Fe,C,J.r,0))){return[x]}}return G}];bM.prototype.pB=[s,s,function(h,v){var t=bl(v,h.Xh);if(-1==t){return bG}var r=bk,n=bl(h,v.Xh);if(-1==n){return bG}var k=bk;return r>k?aA(h,v,h.Xh[t].fa,r):aA(h,v,bF(v.Xh[n].fa),k)}];var bv=bp.YI=function(d,e){a8(d.$e<=e.$e,"Collided shapes must be sorted by type");return d.pB[e.$e](d,e)},i=new bw,aY=bp.QO=function(){this.hJ=this.vc=0;this.gr=[];this.DC=[];this.BL=[];this.Qo=new aJ(s);this.El=new aJ(this.Qo);this.On=[];this.w4=s;this.Eh={};this.jr=[];this.vo=0;this.oB={};this.GU=i;this.oC=[];this.fX=10;this.LJ=bz;this.mr=1;this.xW=0;this.QC=Infinity;this.lU=0.1;this.jU=Math.pow(0.9,60);this.kU=3;this.F5=u;this.RC=new a4(Infinity,Infinity);this.RC.hj=Infinity;this.YI=this.rX()};aY.prototype.eB=function(e,g){bq(this);this.dY(e);var f=new bw;f.a=201;f.b=e;g&&(f.Rf=g);this.oB[aR(201,e)]=f};aY.prototype.dY=function(c){bq(this);delete this.oB[aR(201,c)]};aY.prototype.lK=function(d,e){return this.oB[aR(d,e)]||this.GU};aY.prototype.Gl=function(d){var e=d.body;if(e.fe()){return this.xT(d)}a8(!d.fb,"This shape is already added to a space and cannot be added to another.");bq(this);e.ld();e.Gl(d);d.update(e.d,e.uc);this.El.yr(d,d.tc);d.fb=this;return d};aY.prototype.xT=function(d){a8(!d.fb,"This shape is already added to a space and cannot be added to another.");bq(this);var e=d.body;e.Gl(d);d.update(e.d,e.uc);this.Qo.yr(d,d.tc);d.fb=this;return d};aY.prototype.tT=function(c){a8(!c.fe(),"Static bodies cannot be added to a space as they are not meant to be simulated.");a8(!c.fb,"This body is already added to a space and cannot be added to another.");bq(this);this.gr.push(c);c.fb=this};aY.prototype.pJ=function(f,k){for(var h in this.Eh){var g=this.Eh[h];if(f===g.Xb&&(k===g.a||k===s)||f===g.Dg&&(k===g.b||k===s)){g.QL(),bu(this.On,g),delete this.Eh[h]}}};aY.prototype.as=function(d){var e=d.body;e.fe()?this.iY(d):(a8(this.ZI(d),"Cannot remove a shape that was not added to the space. (Removed twice maybe?)"),bq(this),e.ld(),e.as(d),this.pJ(e,d),this.El.remove(d,d.tc),d.fb=s)};aY.prototype.iY=function(d){a8(this.ZI(d),"Cannot remove a static or sleeping shape that was not added to the space. (Removed twice maybe?)");bq(this);var e=d.body;e.fe()&&e.rT(d);e.as(d);this.pJ(e,d);this.Qo.remove(d,d.tc);d.fb=s};aY.prototype.ZI=function(c){return c.fb===this};aY.prototype.h_=function(c){delete this.Eh[aR(c.a.tc,c.b.tc)];bu(this.On,c)};aY.prototype.yv=function(c){this.dw();this.El.Nl(c);this.Qo.Nl(c);this.Vw(p)};aY.prototype.xv=function(e){this.dw();for(var g=this.jr,f=0;f<g.length;f++){e(g[f])}this.Vw(p)};aY.prototype.CI=function(f){a8(!f.Lh(),"Internal error: Attempting to activate a rogue body.");if(this.vo){-1===this.DC.indexOf(f)&&this.DC.push(f)}else{this.gr.push(f);for(var k=0;k<f.oj.length;k++){var h=f.oj[k];this.Qo.remove(h,h.tc);this.El.yr(h,h.tc)}for(k=f.Hl;k;k=k.next(f)){if(h=k.Xb,f===h||h.fe()){var h=k.a,g=k.b;this.Eh[aR(h.tc,g.tc)]=k;k.vc=this.vc;k.RJ=this.lK(h.Tn,g.Tn);this.On.push(k)}}for(k=f.pv;k;k=k.Ng){h=k.a,(f===h||h.fe())&&this.jr.push(k)}}};aY.prototype.EU=function(e){a8(!e.Lh(),"Internal error: Attempting to deactivate a rogue body.");bu(this.gr,e);for(var g=0;g<e.oj.length;g++){var f=e.oj[g];this.El.remove(f,f.tc);this.Qo.yr(f,f.tc)}for(f=e.Hl;f;f=f.next(e)){g=f.Xb,(e===g||g.fe())&&this.h_(f)}for(f=e.pv;f;f=f.Ng){g=f.a,(e===g||g.fe())&&bu(this.jr,f)}};a4.prototype.ld=function(){if(!this.Lh()){this.hj=0;var f=this?this.tk:s;if(f&&f.bj()){a8(!f.Lh(),"Internal Error: componentActivate() called on a rogue body.");for(var k=f.fb,h=f;h;){var g=h.Ng;h.hj=0;h.tk=s;h.Ng=s;k.CI(h);h=g}bu(k.BL,f)}}};a4.prototype.rT=function(d){a8(this.fe(),"Body.activateStatic() called on a non-static body.");for(var e=this.Hl;e;e=e.next(this)){if(!d||d==e.a||d==e.b){(e.Xb==this?e.Dg:e.Xb).ld()}}};a4.prototype.DK=function(d){bn((d.Xb===this?d.Uo:d.Wo)===s,"Internal Error: Dangling contact graph pointers detected. (A)");bn((d.Xb===this?d.Vo:d.Xo)===s,"Internal Error: Dangling contact graph pointers detected. (B)");var e=this.Hl;bn(e===s||(e.Xb===this?e.Vo:e.Xo)===s,"Internal Error: Dangling contact graph pointers detected. (C)");d.Xb===this?d.Uo=e:d.Wo=e;e&&(e.Xb===this?e.Vo=d:e.Xo=d);this.Hl=d};aY.prototype.RX=function(n){for(var B=Infinity!==this.QC,z=this.gr,x=0;x<z.length;x++){var w=z[x];bn(w.Ng===s,"Internal Error: Dangling next pointer detected in contact graph.");bn(w.tk===s,"Internal Error: Dangling root pointer detected in contact graph.")}if(B){for(var v=(x=this.xW)?x*x:ar(this.LJ)*n*n,x=0;x<z.length;x++){w=z[x],w.hj=w.lX()>(v?w.Jr*v:0)?0:w.hj+n}}for(var v=this.On,x=0,t=v.length;x<t;x++){var r=v[x],w=r.Xb;n=r.Dg;B&&((n.Lh()&&!n.fe()||w.bj())&&w.ld(),(w.Lh()&&!w.fe()||n.bj())&&n.ld());w.DK(r);n.DK(r)}if(B){B=this.jr;for(x=0;x<B.length;x++){n=B[x],w=n.a,n=n.b,n.Lh()&&!n.fe()&&w.ld(),w.Lh()&&!w.fe()&&n.ld()}for(x=0;x<z.length;){w=z[x];if((w?w.tk:s)===s){aC(w,w);n:{for(B=w;B;B=B.Ng){if(B.hj<this.QC){B=p;break n}}B=u}if(!B){this.BL.push(w);for(B=w;B;B=B.Ng){this.EU(B)}continue}}x++;w.tk=s;w.Ng=s}}};aY.prototype.rY=function(){for(var c=0;c<this.oC.length;c++){this.oC[c]()}this.oC=[]};aY.prototype.dw=function(){this.vo++};aY.prototype.Vw=function(d){this.vo--;a8(0<=this.vo,"Internal Error: Space lock underflow.");if(0===this.vo&&d){d=this.DC;for(var e=0;e<d.length;e++){this.CI(d[e])}d.length=0;this.rY()}};aY.prototype.rX=function(){var c=this;return function(x,w){if(x.bb<=w.cb&&(w.bb<=x.cb&&x.Za<=w.$a&&w.Za<=x.$a)&&!(x.body===w.body||x.group&&x.group===w.group||!(x.eC&w.eC))){var v=c.lK(x.Tn,w.Tn),t=x.aL||w.aL;if(!(t&&v===i)){if(x.$e>w.$e){var r=x;x=w;w=r}r=bv(x,w);if(0!==r.length){var n=aR(x.tc,w.tc),a=c.Eh[n];a||(a=c.Eh[n]=new bi(x,w));a.update(r,v,x,w);"first coll"==a.state&&!v.Rf(a,c)&&a.yW();"ignore"!==a.state&&v.pC(a,c)&&!t?c.On.push(a):(a.Uf=s,"ignore"!==a.state&&(a.state="normal"));a.vc=c.vc}}}}};aY.prototype.ST=function(f){var k=this.vc-f.vc,h=f.Xb,g=f.Dg;if((h.fe()||h.bj())&&(g.fe()||g.bj())){return p}1<=k&&"cached"!=f.state&&(f.state="cached");return k>=this.kU?(f.Uf=s,u):p};aY.prototype.step=function(n){if(0!==n){a8(0===bz.x&&0===bz.y,"vzero is invalid");this.vc++;var B=this.hJ;this.hJ=n;var z,x,w=this.gr,v=this.jr,t=this.On;for(z=0;z<t.length;z++){var r=t[z];r.state="normal";!r.Xb.bj()&&!r.Dg.bj()&&r.QL()}t.length=0;this.dw();for(z=0;z<w.length;z++){w[z].PX(n)}this.El.Nl(aD);this.El.ZX(this.YI);this.Vw(u);this.RX(n);this.dw();for(x in this.Eh){this.ST(this.Eh[x])||delete this.Eh[x]}x=this.lU;r=1-Math.pow(this.jU,n);for(z=0;z<t.length;z++){t[z].lf(n,x,r)}for(z=0;z<v.length;z++){x=v[z],x.pC(this),x.lf(n)}x=Math.pow(this.mr,n);r=this.LJ;for(z=0;z<w.length;z++){w[z].m_(r,x,n)}n=0===B?0:n/B;for(z=0;z<t.length;z++){t[z].Qf(n)}for(z=0;z<v.length;z++){v[z].Qf(n)}for(z=0;z<this.fX;z++){for(n=0;n<t.length;n++){t[n].ze()}for(n=0;n<v.length;n++){v[n].ze()}}for(z=0;z<v.length;z++){}for(z=0;z<t.length;z++){}this.Vw(p)}};var a1=bp.d0=function(d,e){this.a=d;this.b=e;this.BX=this.AX=this.fb=s;this.sk=Infinity;this.Ol=Math.pow(0.9,60);this.Xl=Infinity};a1.prototype.lf=y();a1.prototype.Qf=y();a1.prototype.ze=y();a1.prototype.pC=y();a1.prototype.next=function(c){return this.a===c?this.AX:this.BX};var a6=bp.oO=function(f,k,h,g){a1.call(this,f,k);this.Dh=h;this.Ze=g;f=f?a5(f.d,bL(h,f.uc)):h;k=k?a5(k.d,bL(g,k.uc)):g;this.or=bP(a2(k,f));bn(0<this.or,"You created a 0 length pin joint. A pivot joint will be much more stable.");this.fa=this.ra=this.ta=s;this.rb=this.Oc=this.qo=this.Mg=0};a6.prototype=Object.create(a1.prototype);a6.prototype.lf=function(e){var r=this.a,n=this.b;this.ra=bL(this.Dh,r.uc);this.ta=bL(this.Ze,n.uc);var k=a2(a5(n.d,this.ta),a5(r.d,this.ra)),h=bP(k);this.fa=a3(k,1/(h?h:Infinity));this.Mg=1/aO(r,n,this.ra,this.ta,this.fa);r=this.Xl;this.rb=a0(-(1-Math.pow(this.Ol,e))*(h-this.or)/e,-r,r);this.qo=this.sk*e};a6.prototype.Qf=function(c){c=a3(this.fa,this.Oc*c);aK(this.a,this.b,this.ra,this.ta,c.x,c.y)};a6.prototype.ze=function(){var g=this.a,r=this.b,n=this.fa,k=(this.rb-aG(g,r,this.ra,this.ta,n))*this.Mg,h=this.Oc;this.Oc=a0(h+k,-this.qo,this.qo);k=this.Oc-h;aK(g,r,this.ra,this.ta,n.x*k,n.y*k)};var aF=bp.PO=function(h,v,t,r,n,k){a1.call(this,h,v);this.Dh=t;this.Ze=r;this.min=n;this.max=k;this.ra=this.ta=this.fa=s;this.rb=this.Oc=this.qo=this.Mg=0};aF.prototype=Object.create(a1.prototype);aF.prototype.lf=function(e){var v=this.a,t=this.b;this.ra=bL(this.Dh,v.uc);this.ta=bL(this.Ze,t.uc);var r=a2(a5(t.d,this.ta),a5(v.d,this.ra)),n=bP(r),k=0;n>this.max?(k=n-this.max,this.fa=av(r)):n<this.min?(k=this.min-n,this.fa=bF(av(r))):(this.fa=bz,this.Oc=0);this.Mg=1/aO(v,t,this.ra,this.ta,this.fa);v=this.Xl;this.rb=a0(-(1-Math.pow(this.Ol,e))*k/e,-v,v);this.qo=this.sk*e};aF.prototype.Qf=function(c){c*=this.Oc;aK(this.a,this.b,this.ra,this.ta,this.fa.x*c,this.fa.y*c)};aF.prototype.ze=function(){if(!(0===this.fa.x&&0===this.fa.y)){var g=this.a,r=this.b,n=this.fa,k=aE(g,r,this.ra,this.ta),k=aZ(k,n),k=(this.rb-k)*this.Mg,h=this.Oc;this.Oc=a0(h+k,-this.qo,0);k=this.Oc-h;aK(g,r,this.ra,this.ta,n.x*k,n.y*k)}};var ao=bp.pO=function(f,k,h,g){a1.call(this,f,k);"undefined"===typeof g&&(g=h,h=f?f.aM(g):g,g=k?k.aM(g):g);this.Dh=h;this.Ze=g;this.ra=this.ta=bz;this.Er=new bj(0,0);this.Fr=new bj(0,0);this.Pa=bz;this.Dr=0;this.rb=bz};ao.prototype=Object.create(a1.prototype);ao.prototype.lf=function(d){var g=this.a,f=this.b;this.ra=bL(this.Dh,g.uc);this.ta=bL(this.Ze,f.uc);aP(g,f,this.ra,this.ta,this.Er,this.Fr);this.Dr=this.sk*d;g=a2(a5(f.d,this.ta),a5(g.d,this.ra));this.rb=o(a3(g,-(1-Math.pow(this.Ol,d))/d),this.Xl)};ao.prototype.Qf=function(c){aK(this.a,this.b,this.ra,this.ta,this.Pa.x*c,this.Pa.y*c)};ao.prototype.ze=function(){var f=this.a,k=this.b,h=aE(f,k,this.ra,this.ta),h=a2(this.rb,h),g=this.Fr,h=new bj(aZ(h,this.Er),aZ(h,g)),g=this.Pa;this.Pa=o(a5(this.Pa,h),this.Dr);aK(f,k,this.ra,this.ta,this.Pa.x-g.x,this.Pa.y-g.y)};var bI=bp.iN=function(g,r,n,k,h){a1.call(this,g,r);this.MJ=n;this.NJ=k;this.uW=ay(am(a2(k,n)));this.Ze=h;this.OJ=s;this.hr=0;this.ra=this.ta=s;this.Er=new bj(0,0);this.Fr=new bj(0,0);this.Pa=bz;this.Dr=0;this.rb=s};bI.prototype=Object.create(a1.prototype);bI.prototype.lf=function(d){var B=this.a,x=this.b,w=B.Kg(this.MJ),v=B.Kg(this.NJ),t=bL(this.uW,B.uc),r=aZ(w,t);this.OJ=t;this.ta=bL(this.Ze,x.uc);var z=l(a5(x.d,this.ta),t);z<=l(w,t)?(this.hr=1,this.ra=a2(w,B.d)):z>=l(v,t)?(this.hr=-1,this.ra=a2(v,B.d)):(this.hr=0,this.ra=a2(a5(a3(ay(t),-z),a3(t,r)),B.d));aP(B,x,this.ra,this.ta,this.Er,this.Fr);this.Dr=this.sk*d;B=a2(a5(x.d,this.ta),a5(B.d,this.ra));this.rb=o(a3(B,-(1-Math.pow(this.Ol,d))/d),this.Xl)};bI.prototype.Qf=function(c){aK(this.a,this.b,this.ra,this.ta,this.Pa.x*c,this.Pa.y*c)};bI.prototype.tW=function(d){var e=this.OJ;d=0<this.hr*l(d,e)?d:au(d,e);return o(d,this.Dr)};bI.prototype.ze=function(){var f=this.a,k=this.b,h=aE(f,k,this.ra,this.ta),h=a2(this.rb,h),g=this.Fr,h=new bj(aZ(h,this.Er),aZ(h,g)),g=this.Pa;this.Pa=this.tW(a5(g,h));aK(f,k,this.ra,this.ta,this.Pa.x-g.x,this.Pa.y-g.y)};var P=bp.s0=function(c,x,w,v,t,r,n){a1.call(this,c,x);this.Dh=w;this.Ze=v;this.oY=t;this.SC=r;this.mr=n;this.FZ=aS;this.VC=this.YL=0;this.ra=this.ta=s;this.Mg=0;this.fa=s};P.prototype=Object.create(a1.prototype);P.prototype.lf=function(e){var r=this.a,n=this.b;this.ra=bL(this.Dh,r.uc);this.ta=bL(this.Ze,n.uc);var k=a2(a5(n.d,this.ta),a5(r.d,this.ra)),h=bP(k);this.fa=a3(k,1/(h?h:Infinity));k=aO(r,n,this.ra,this.ta,this.fa);bn(0!==k,"Unsolvable this.");this.Mg=1/k;this.VC=0;this.YL=1-Math.exp(-this.mr*e*k);h=this.FZ(this,h);aK(r,n,this.ra,this.ta,this.fa.x*h*e,this.fa.y*h*e)};P.prototype.Qf=y();P.prototype.ze=function(){var f=this.a,k=this.b,h=aG(f,k,this.ra,this.ta,this.fa),g=(this.VC-h)*this.YL;this.VC=h+g;g*=this.Mg;aK(f,k,this.ra,this.ta,this.fa.x*g,this.fa.y*g)};var bQ=bp.r0=function(r,n,k,h,a){a1.call(this,r,n);this.nY=k;this.SC=h;this.mr=a;this.GZ=aT;this.De=this.ZL=this.WC=0};bQ.prototype=Object.create(a1.prototype);bQ.prototype.lf=function(f){var k=this.a,h=this.b,g=k.Na+h.Na;bn(0!==g,"Unsolvable spring.");this.De=1/g;this.ZL=1-Math.exp(-this.mr*f*g);this.WC=0;f*=this.GZ(this,k.a-h.a);k.m-=f*k.Na;h.m+=f*h.Na};bQ.prototype.ze=function(){var f=this.a,k=this.b,h=f.m-k.m,g=(this.WC-h)*this.ZL;this.WC=h+g;h=g*this.De;f.m+=h*f.Na;k.m-=h*k.Na};var bK=bp.K1=function(f,k,h,g){a1.call(this,f,k);this.min=h;this.max=g;this.De=this.rb=this.Ee=this.Pa=0};bK.prototype=Object.create(a1.prototype);bK.prototype.lf=function(g){var r=this.a,n=this.b,k=n.a-r.a,h=0;k>this.max?h=this.max-k:k<this.min&&(h=this.min-k);this.De=1/(1/r.ko+1/n.ko);r=this.Xl;this.rb=a0(-(1-Math.pow(this.Ol,g))*h/g,-r,r);this.Ee=this.sk*g;this.rb||(this.Pa=0)};bK.prototype.Qf=function(e){var g=this.a,f=this.b;e*=this.Pa;g.m-=e*g.Na;f.m+=e*f.Na};bK.prototype.ze=function(){if(this.rb){var f=this.a,k=this.b,h=-(this.rb+(k.m-f.m))*this.De,g=this.Pa;this.Pa=0>this.rb?a0(g+h,0,this.Ee):a0(g+h,-this.Ee,0);h=this.Pa-g;f.m-=h*f.Na;k.m+=h*k.Na}};var by=bp.J1=function(f,k,h,g){a1.call(this,f,k);this.kv=0;this.nC=h;this.GK=g;this.kv=(k?k.a:0)-(f?f.a:0);this.De=this.rb=this.Pa=this.Ee=0};by.prototype=Object.create(a1.prototype);by.prototype.lf=function(n){var B=this.a,z=this.b,x=this.nC,w=this.GK,v=z.a-B.a,t=this.kv-v,r=0;0<t*w?r=t:this.kv=Math.floor((v-x)/w)*w+x;this.De=1/(B.Na+z.Na);B=this.Xl;this.rb=a0(-(1-Math.pow(this.Ol,n))*r/n,-B,B);this.Ee=this.sk*n;this.rb||(this.Pa=0)};by.prototype.Qf=function(e){var g=this.a,f=this.b;e*=this.Pa;g.m-=e*g.Na;f.m+=e*f.Na};by.prototype.ze=function(){if(this.rb){var g=this.a,r=this.b,n=this.GK,k=-(this.rb+(r.m-g.m))*this.De,h=this.Pa;this.Pa=a0((h+k)*n,0,this.Ee*Math.abs(n))/n;k=this.Pa-h;g.m-=k*g.Na;r.m+=k*r.Na}};var be=bp.H0=function(f,k,h,g){a1.call(this,f,k);this.nC=h;this.rC=g;this.sC=1/g;this.De=this.rb=this.Ee=this.Pa=0};be.prototype=Object.create(a1.prototype);be.prototype.lf=function(f){var k=this.a,h=this.b;this.De=1/(k.Na*this.sC+this.rC*h.Na);var g=this.Xl;this.rb=a0(-(1-Math.pow(this.Ol,f))*(h.a*this.rC-k.a-this.nC)/f,-g,g);this.Ee=this.sk*f};be.prototype.Qf=function(e){var g=this.a,f=this.b;e*=this.Pa;g.m-=e*g.Na*this.sC;f.m+=e*f.Na};be.prototype.ze=function(){var f=this.a,k=this.b,h=(this.rb-(k.m*this.rC-f.m))*this.De,g=this.Pa;this.Pa=a0(g+h,-this.Ee,this.Ee);h=this.Pa-g;f.m-=h*f.Na*this.sC;k.m+=h*k.Na};var aI=bp.R1=function(e,g,f){a1.call(this,e,g);this.YX=f;this.De=this.Ee=this.Pa=0};aI.prototype=Object.create(a1.prototype);aI.prototype.lf=function(c){this.De=1/(this.a.Na+this.b.Na);this.Ee=this.sk*c};aI.prototype.Qf=function(e){var g=this.a,f=this.b;e*=this.Pa;g.m-=e*g.Na;f.m+=e*f.Na};aI.prototype.ze=function(){var f=this.a,k=this.b,h=-(k.m-f.m+this.YX)*this.De,g=this.Pa;this.Pa=a0(g+h,-this.Ee,this.Ee);h=this.Pa-g;f.m-=h*f.Na;k.m+=h*k.Na}})();var path=window.Zepto.linkUrl+"/dist/Activity/img/20170126/jumpGame/cocos/";var V={AD:path+"home.plist?v=1",mN:path+"home.png?v=1",gN:path+"game.plist?v=1",hN:path+"game.png?v=1",$s:path+"num.fnt",n1:path+"num.png?v=1",HD:path+"rule.png",GD:path+"rule.png",QD:path+"pauseButton.png",vO:path+"resumeButton.png",eE:path+"tipButton.png",YN:path+"num-1.png?v=1",ZN:path+"num-2.png?v=1",$N:path+"num-3.png?v=1",logo:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="},mb=[],jb;for(jb in V){mb.push(V[jb])}MyLoaderScene=I.hi.extend({tg:s,mh:s,$b:"MyLoaderScene",Tf:s,target:s,pa:function(){var e=this,g=e.It=new I.Ea(I.color(225,225,225,0));e.N(g,0);I.Hz&&I.T.Vl(V.logo,{aj:u},function(h,a){e.yz(a,I.Q.Qn)});var f=e.mh=I.J.create("0%","Serif",50);f.Ia(I.jj(I.Q.Qn,I.d(150,-340)));f.ic(I.color(50,50,50));g.N(this.mh,10);return p},yz:function(e,g){var f=this.aT=new I.la;f.Fd(e);f.Jb();f=this.PG=new I.F(f);f.Qc(I.eb());f.x=g.x;f.y=g.y+100;this.It.N(f,10)},U:function(){I.i.prototype.U.call(this);this.mj(this.Lq,0.3)},Qa:function(){I.i.prototype.Qa.call(this);this.mh.rd("0%")},aC:function(e,g,f){I.ge(e)&&(e=[e]);this.zC=e||[];this.Tf=g;this.target=f},Lq:function(){var c=this;c.Sg(c.Lq);I.T.load(c.zC,function(g,f,a){g=Math.min(100*(a/f)|0,100);c.mh.rd(g+"%");document.getElementById("loadpercent").innerHTML=g+"%"},function(){document.body.removeChild(document.getElementById("loading"));c.Tf&&c.Tf.call(c.target)})}});MyLoaderScene.BK=function(e,g){var f=s;f||(f=new MyLoaderScene,f.pa());f.aC(e,g);I.O.lj(f);return f};var sb=I.color(225,225,225,0),yb=I.color(225,225,225,0),zb=I.color(188,188,188,0),Ab=I.color(188,188,188,0);var Yb=I.Ea.extend({ctor:function(){this._super(sb);return p},U:function(){this._super();I.A.localStorage.getItem("revive_times")==s&&I.A.localStorage.setItem("revive_times",3);I.A.localStorage.getItem("music_opened")==s&&I.A.localStorage.setItem("music_opened",1);I.A.localStorage.getItem("isGaming")==s&&I.A.localStorage.setItem("isGaming",-1);I.A.localStorage.setItem("game_over",0);I.A.localStorage.setItem("score_game_over",0);game.homeSceneCallback();I.A.localStorage.getItem("best_score_dragon_up")==s&&I.A.localStorage.setItem("best_score_dragon_up",0);I.A.localStorage.getItem("score_gaming")==s&&I.A.localStorage.setItem("score_gaming",0);I.A.localStorage.getItem("first_game")==s&&I.A.localStorage.setItem("first_game",1);I.A.localStorage.setItem("revive",0);I.A.localStorage.setItem("resume",0);I.A.localStorage.setItem("scoreBoard",0);I.Rg.gB(V.AD,V.mN);this.kK=new I.F("#logo.png");this.kK.na({x:I.xb.width/2,y:4*I.xb.height/5});this.N(this.kK);this.Eb=new I.F("#dragon2.png");this.Eb.na({x:I.xb.width/2,y:2.8*I.xb.height/5});this.EER=new I.F("#dragon.png");this.EER.na({x:I.xb.width/2,y:2.8*I.xb.height/5});this.N(this.EER,1,10);this.EER.ma(I.Go(I.uj.create(I.Xv(0.6,I.d(0,0),40,1),1)));this.tC=new I.F("#reallyDragonText.png");this.tC.na({x:I.xb.width/2+this.tC.Aa().width,y:3*I.xb.height/5});this.N(this.tC);this.aD=new I.F("#upButton.png");this.aD.na({x:I.xb.width/2,y:2.5*I.xb.height/7,scale:0.96});this.N(this.aD,1,101);100==I.A.localStorage.getItem("scoreBoard")&&(this.Io=new I.F("#score.png"),this.Io.na({x:this.Io.Aa().width+20,y:this.Io.Aa().height+20}),this.N(this.Io,1,110));100==I.A.localStorage.getItem("revive")&&(this.TC=new I.F("#store.png"),this.TC.na({x:I.xb.width/2,y:this.Io.Aa().height+20}),this.N(this.TC,1,111));this.Zo=new I.F(V.eE);this.Zo.na({x:this.Zo.Aa().width-20,y:this.Zo.Aa().height-40});this.N(this.Zo,1,112);var c=I.A.localStorage.getItem("music_opened");this.wo=new I.F(V.GD);this.wo.na({x:I.xb.width-this.wo.Aa().width+20,y:this.wo.Aa().height-40});this.N(this.wo,1,100);this.Rb=I.R.create({event:I.R.ig,eg:p,gf:function(d,k){var j=k.Ua,i=j.Jl(d.Yi()),e=j.Aa(),e=I.rect(0,0,e.width,e.height);return I.Co(e,i)?(j.Qc(1.2),p):u},$f:function(i,h){var d=h.Ua;d.Qc(1);if(10==d.tag){var a=new Bb;d.getParent().N(a,3)}101==d.tag&&(I.O.lj(new I.Lk(0.5,new Cb(1))),game.gameStartCallback());102==d.tag&&I.O.lj(new I.Lk(0.5,new Cb(0)));100==d.tag&&(I.A.localStorage.setItem("music_opened",0),c=0,d.mb(V.GD),game.ruleOpen());112==d.tag&&(d.mb(V.eE),game.howPlay());I.be.xk(V.Ep)}});I.K.addListener(this.Rb.j(),this.aD);I.K.addListener(this.Rb.j(),this.wo);I.K.addListener(this.Rb.j(),this.Zo)},Qa:function(){this._super();I.K.removeListener(this.Rb);I.Rg.hY(V.AD)}}),Zb=I.hi.extend({U:function(){this._super();var c=new Yb;this.N(c)}});var Xb=I.Ea.extend({ctor:function(){this._super(yb)},U:function(){this._super();window.location.reload();var c=new I.F("#restartText.png");c.na({x:I.xb.width/2,y:6*I.xb.height/9});this.N(c);this.sv=new I.F("#continueButton.png");this.sv.na({x:I.xb.width/2-this.sv.Aa().width/2-10,y:2*I.xb.height/7});this.N(this.sv,1,108);this.xw=new I.F("#restartButton.png");this.xw.na({x:I.xb.width/2+this.xw.Aa().width/2+10,y:2*I.xb.height/7});this.N(this.xw,1,109);this.Rb=I.R.create({event:I.R.ig,eg:p,gf:function(h,l){var k=l.Ua,j=k.Jl(h.Yi()),i=k.Aa(),i=I.rect(0,0,i.width,i.height);return I.Co(i,j)?(k.Qc(1.2),p):u},$f:function(f,h){var g=h.Ua;g.Qc(1);109==g.tag&&(g.getParent().Sh(),I.A.localStorage.setItem("isGaming",-1),I.A.localStorage.setItem("score_gaming",0));108==g.tag&&I.O.lj(new I.Lk(0.5,new Cb(I.A.localStorage.getItem("isGaming"))));I.be.xk(V.Ep)}});I.K.addListener(this.Rb.j(),this.sv);I.K.addListener(this.Rb.j(),this.xw)},Qa:function(){this._super();I.K.removeListener(this.Rb)}});var Bb=I.Ea.extend({ctor:function(){this._super(yb)},U:function(){this._super();var c=new I.F("#ILoveYou.png");c.na({x:I.xb.width/2,y:I.xb.height/2});this.N(c);this.Rb=I.R.create({event:I.R.ig,eg:p,gf:E(p),$f:function(e,f){f.Ua.Sh()}});I.K.addListener(this.Rb,this)},Qa:function(){this._super();I.K.removeListener(this.Rb)}});var ec=I.Ea.extend({nF:s,fb:s,Eb:s,ho:s,po:s,Uh:s,Pc:s,s4:s,bw:s,Th:s,tU:s,ctor:function(){this._super(yb);this.bw=[];this.Th=[];this.po=u;this.tU=3;this.Pc=0;this.uT();return p},U:function(){this._super();this.EW();this.DW();this.Ho();this.WJ()},Qa:function(){this._super()},uT:function(){I.Rg.gB(V.gN,V.hN)},EW:function(){this.fb=new cp.QO;this.fb.eB(202,this.nB.bind(this));this.fb.eB(203,this.nB.bind(this));this.fb.eB(204,this.nB.bind(this));for(var e=this.fb.RC,e=[new cp.ym(e,cp.v(0,0),cp.v(I.Q.width,0),1),new cp.ym(e,cp.v(0,I.Q.height),cp.v(I.Q.width,I.Q.height),1),new cp.ym(e,cp.v(0,0),cp.v(0,I.Q.height),1),new cp.ym(e,cp.v(I.Q.width,0),cp.v(I.Q.width,I.Q.height),1)],g=0;g<e.length;g++){var f=e[g];f.Iw(1);f.Jw(0);this.fb.Gl(f);f.Kw(-2);(2==g||3==g)&&f.Fw(204)}},y8:function(){this.nF=I.He.create(this.fb);this.N(this.nF)},nB:function(){if(this.po){if(I.K.aY(),I.K.xC(I.R.$h),I.no.Aw(u),100==I.A.localStorage.getItem("resume")&&I.A.localStorage.setItem("isGaming",-1),100==I.A.localStorage.getItem("revive")){this.pause();I.O.Fh().yK();var d=new $b;this.N(d,3);var e=new ac;this.N(e,3);this.uB=I.R.create({event:I.R.rj,Av:"countdown",ce:function(i){i=i.Ua;I.K.removeListener(i.sB);d.Sh(p);1==I.A.localStorage.getItem("resume")&&I.A.localStorage.setItem("isGaming",bc);var h=i.Eb.Hv();0==i.Th.length&&i.Eb.Ia(I.d(I.Q.width/2,3*I.Q.height/5));if(1==i.Th.length){var c=i.Th[0].body.d;200>=c.y||c.y>=I.Q.height-150?i.Eb.Ia(I.d(I.Q.width/2,3*I.Q.height/5)):i.Eb.Ia(I.d(c.x-320-85,c.y))}if(2<=i.Th.length){for(var a=0;a<i.Th.length;a++){if(c=i.Th[a].body.d,c.y<=I.Q.height-150&&200<=c.y){h.x=c.x-320-85;h.y=c.y;break}}i.Eb.Ia(h);i.Eb.mk().Qw(cp.Zw)}i.Uh.ie(u);e.uU()}});I.K.addListener(this.uB,this);this.BC=I.R.create({event:I.R.rj,Av:"revive",ce:function(c){c=c.Ua;I.K.removeListener(c.BC);I.K.removeListener(c.uB);e.Sh(p);c.mf();for(var h=c.P,g=0;g<h.length;g++){(21==h[g].tag||22==h[g].tag||10==h[g].tag)&&I.O.Fh().Qg(h[g])}c.WJ();I.no.Aw(p);c.Uh.ie(p)}});I.K.addListener(this.BC,this);this.sB=I.R.create({event:I.R.rj,Av:"continue",ce:function(h){h=h.Ua;I.K.removeListener(h.BC);I.K.removeListener(h.sB);I.K.removeListener(h.uB);d.Sh(p);for(var g=h.P,a=0;a<g.length;a++){(21==g[a].tag||22==g[a].tag)&&I.O.Fh().Qg(g[a])}h.mf();h.rJ()}});I.K.addListener(this.sB,this)}else{this.rJ()}}return p},DW:function(){if(1==I.A.localStorage.getItem("first_game")){I.A.localStorage.setItem("first_game",0);var c=new Db;this.N(c,3)}c=new I.F("#tapToStartText.png");c.na({x:I.Q.width/2,y:7.6*I.Q.height/9});this.N(c,1,31);c=new I.F("#tip.png");c.na({x:I.Q.width/2,y:4.8*I.Q.height/11,scale:0.9});this.N(c,1,33);c.ma(I.Go(I.Ha(I.CC(0.4,-30),I.CC(0.4,30))));this.wk=new I.F(V.QD);this.wk.na({x:I.Q.width-this.wk.width-20,y:I.Q.height-this.wk.height-20});this.wk.Hd(0);this.N(this.wk,2,106);this.ho=new I.F("#ground.png");this.ho.na({x:I.Q.width/2,y:this.ho.Aa().height/2});this.N(this.ho,2);c=new I.F("#finger.png");c.na({x:I.Q.width/2,y:1*I.Q.height/8});this.N(c,2,32);c.ma(I.Go(I.Ha(I.nf(0.3,0.9),I.nf(0.2,1.1))));c=this.fb.Gl(new cp.ym(this.fb.RC,cp.v(0,this.ho.Aa().height),cp.v(I.Q.width,this.ho.Aa().height),0));c.Fw(203);c.Iw(1);c.Jw(1);c.Kw(-2);this.Uh=new I.Md("0",V.$s);this.Uh.na({x:I.Q.width/2,y:8*I.Q.height/9});this.N(this.Uh);this.Uh.ie(u);this.Pc=0;this.Eb=this.AU(I.d(I.Q.width/2+19,3.3*I.Q.height/5));this.Eb.No(10);this.N(this.Eb);c=I.Go(I.uj.create(I.Xv(0.6,I.d(0,0),40,1),1));c.No(11);I.O.Fh().DI(c,this.Eb,u)},WJ:function(){I.no.Aw(u);var d=I.R.create({event:I.R.$h,ce:function(i,q){var o=q.Ua;if(o.po){var n=o.Eb.Hv(),l=o.Eb.Aa(),j=n.x+20*i.x;610>=j&&30<=j&&(n.x=j);n.y>I.xb.height-l.height/2+10&&o.Eb.mk().Qw(cp.v(0,0));o.Eb.ma(I.moveTo(0.1,n))}}});I.K.addListener(d,this);var e=I.A.localStorage.getItem("music_opened"),d=I.R.create({event:I.R.ig,gf:function(){return I.O.Ob?u:p},$f:function(c,l){var k=l.Ua;if(k.po){var j=k.Eb.Hv(),i=k.Eb.Aa();j.y<=I.xb.height-i.height/2&&(k.Eb.mk().Qw(cp.v(0,600)),I.be.xk(V.DN));j.y>I.xb.height-i.height/2+10&&k.Eb.mk().Qw(cp.v(0,0))}else{k.LZ()}}});I.K.addListener(d.j(),this);d=I.R.create({event:I.R.ig,eg:u,gf:function(i,n){var l=n.Ua,k=l.Jl(i.Yi()),j=l.Aa(),j=I.rect(0,0,j.width,j.height);return I.Co(j,k)?(l.Qc(1.2),p):u},$f:function(c,h){var g=h.Ua;g.Qc(1);106==g.tag&&(I.O.Ob?(g.mb(V.QD),I.O.mf()):(g.mb(V.vO),I.O.pause()));I.be.xk(V.Ep)}});I.K.addListener(d.j(),this.wk)},AU:function(e){var g=[2.9,65,48.5,30.5,17.9,-65.1,-18.3,-44.6,-44.3,32.3],f=new cp.oD(1,cp.vX(g));f.qL(e);this.fb.tT(f);g=new cp.Fx(f,g,cp.Zw);g.Fw(201);g.Iw(0.5);g.Jw(0.5);g.Kw(-1);this.fb.Gl(g);g=new I.Cc("#dragon2.png");g.Dw(f);g.Ia(e);return g},GI:function(){var f,i;1==bc?(f=I.Q.height+40,i=70):(f=70,i=I.Q.height+40);i=I.Ha(I.moveBy(3,0,i-f),I.Db(this.cY,this));var h=220*(Math.random()-0.5),g=cc(this,I.d(-85+h,f),p);f=cc(this,I.d(I.Q.width+85+h,f),u);g.No(21);f.No(22);this.N(g);this.N(f);g.ma(i.j());f.ma(i.j())},LZ:function(){this.po=p;this.jY();I.O.Fh().KK(11,this.Eb);this.Eb.mk().RT();this.Uh.ie(p);this.mj(this.GI,1.3,I.Ie,0);this.mj(this.WL,1.3,I.Ie,2.8);I.no.Aw(p);this.wk.ma(I.Yn(0.5));1==I.A.localStorage.getItem("resume")&&(0<=I.A.localStorage.getItem("isGaming")?(this.Pc=I.A.localStorage.getItem("score_gaming"),this.Pc=parseInt(this.Pc),this.Uh.rd(this.Pc)):(I.A.localStorage.setItem("isGaming",bc),I.A.localStorage.setItem("score_gaming",0)))},rJ:function(){this.po=u;I.be.xk(V.BN);I.O.Fh().yK();this.Sg(this.GI);this.Sg(this.WL);this.Uh.ma(I.lk(0.3));this.wk.ma(I.lk(0.3));var c=new dc(this.Pc);this.N(c,3);1==I.A.localStorage.getItem("resume")&&I.A.localStorage.setItem("isGaming",-1)},jY:function(){var c=I.Ha(I.lk(0.5),I.Db(this.MK,this));this.Hg(32).ma(c);this.Hg(31).ma(c.j());this.Hg(33).ma(c.j())},MK:function(d,e){d.Sh(e)},cY:function(d,e){d.Sh(e);21==d.tag&&(this.fb.as(this.bw[0]),this.bw.shift());22==d.tag&&(this.fb.as(this.Th[0]),this.Th.shift())},update:function(c){this.fb.step(c)},WL:function(){var d=this.Eb.mk().m,e=1,e=1>Math.abs(d)?1:4>Math.abs(d)?2:3;this.Pc+=e;this.Uh.rd(this.Pc);I.A.localStorage.setItem("score_gaming",this.Pc);I.be.xk(V.CN);I.O.ok().mZ(1+0.005*this.Pc)}});function cc(g,k,j){var i=new cp.oD(Infinity,Infinity);i.qL(k);var h=new cp.Fx(i,[-266.9,26.2,276.8,27.4,292.5,22.4,305.8,14.1,313.5,4.5,312.4,-7.6,304.9,-22.7,274.3,-31.1,-296.4,-25.5,-311.2,-4.7,-300.3,17.2],cp.Zw);h.Fw(202);h.Iw(1);h.Jw(1);h.Kw(1);g.fb.Gl(h);j?g.bw.push(h):g.Th.push(h);g=new I.Cc("#cloud.png");g.Dw(i);g.Ia(k);return g}var bc=s,Cb=I.hi.extend({ctor:function(c){this._super();bc=c;return p},U:function(){this._super();var c=new ec(bc);this.N(c)}});var dc=I.Ea.extend({Pc:s,ctor:function(c){this._super(zb);this.Pc=c;return p},U:function(){this._super();var g=new I.F("#mask.png");g.na({x:0,y:I.Q.height,scale:100});this.N(g,1);var f=new I.F("#gameOverText.png");f.na({x:I.Q.width/2,y:I.Q.height+f.Aa().height/2});this.N(f,2);f.ma(I.moveTo(0.4,I.Q.width/2,8*I.Q.height/9));f=new I.F("#newRecord.png");f.na({x:I.Q.width/2+130,y:5*I.Q.height/8+50});f.ie(u);this.N(f,2);I.A.localStorage.setItem("game_over",1);I.A.localStorage.setItem("score_game_over",this.Pc);I.A.localStorage.getItem("best_score_dragon_up")<this.Pc&&(I.A.localStorage.setItem("best_score_dragon_up",this.Pc),0!=this.Pc&&f.ie(p));game.gameOverCallback();f=new I.F("#bestScoreText.png");f.na({x:I.Q.width/2-f.Aa().width/2+50,y:5*I.Q.height/8});this.N(f,2);f="";f=I.A.localStorage.getItem("best_score_dragon_up").toString();f=new I.Md(this.Pc.toString(),V.$s);f.na({x:I.Q.width/2,y:7*I.Q.height/9});this.N(f,2);var j=new I.Ea(Ab);j.ie(u);this.N(j,9);var i=new I.F("#shareText.png");i.na({x:I.Q.width/2,y:I.Q.height-i.Aa().height/2});i.ie(u);this.N(i,9);this.fr=new I.F("#backButton.png");this.fr.na({x:this.fr.Aa().width/2+10,y:I.Q.height-this.fr.Aa().height/2-10});this.N(this.fr,5,103);this.OC=new I.F("#shareButton.png");this.OC.na({x:I.Q.width-this.OC.Aa().width/2-20,y:0.24*I.Q.height});this.N(this.OC,10,104);this.AC=new I.F("#continue.png");this.AC.na({x:this.AC.Aa().width/2+20,y:0.24*I.Q.height});this.N(this.AC,10,105);var h=I.A.localStorage.getItem("music_opened");this.Rb=I.R.create({event:I.R.ig,eg:u,gf:function(k,r){var o=r.Ua,l=o.Jl(k.Yi()),q=o.Aa(),q=I.rect(0,0,q.width,q.height);return I.Co(q,l)?(o.Qc(1.2),p):u},$f:function(c,e){var d=e.Ua;d.Qc(1);I.be.xk(V.Ep);103==d.tag&&I.O.lj(new I.Lk(0.5,new Zb),game.goBack());104==d.tag&&game.share();if(105==d.tag){(I.A.localStorage.setItem("game_over",0),game.gameRetryCallback(),I.O.lj(new I.Lk(0.5,new Cb(bc))))}}});I.K.addListener(this.Rb.j(),this.fr);I.K.addListener(this.Rb.j(),this.OC);I.K.addListener(this.Rb.j(),this.AC)}});var $b=I.Ea.extend({ctor:function(){this._super(zb)},U:function(){this._super();var d=new I.F("#lifeRemain.png");d.na({x:I.Q.width/2-d.Aa().width/2,y:7*I.Q.height/9});this.N(d);d=new I.Md(I.A.localStorage.getItem("revive_times"),V.$s);d.na({x:I.Q.width/2+d.Aa().width/2+10,y:7*I.Q.height/9+20});this.N(d);d=new I.F("#reviveButton.png");d.na({x:I.Q.width/2,y:4*I.Q.height/9});this.N(d,1,107);var e=new I.F("#retryButton.png");e.na({x:I.Q.width/2,y:3*I.Q.height/10});this.N(e,1,108);this.Rb=I.R.create({event:I.R.ig,eg:u,gf:function(i,n){var l=n.Ua,k=l.Jl(i.Yi()),j=l.Aa(),j=I.rect(0,0,j.width,j.height);return I.Co(j,k)?(l.Qc(1.2),p):u},$f:function(h,k){var j=k.Ua;j.Qc(1);if(107==j.tag){var i=new I.Xg("countdown");I.K.dispatchEvent(i)}108==j.tag&&(j=new I.Xg("continue"),I.K.dispatchEvent(j));I.be.xk(V.Ep)}});I.K.addListener(this.Rb.j(),d);I.K.addListener(this.Rb.j(),e)},Qa:function(){this._super()}});var ac=I.mc.extend({ctor:function(){this._super()},uU:function(){var e=new I.F(V.YN);e.Hd(0);e.na({x:I.Q.width/2,y:3*I.Q.height/4});e.Qc(2);this.N(e);var g=new I.F(V.ZN);g.Hd(0);g.na({x:I.Q.width/2,y:3*I.Q.height/4});g.Qc(2);this.N(g);var f=new I.F(V.$N);f.Hd(0);f.na({x:I.Q.width/2,y:3*I.Q.height/4});f.Qc(2);this.N(f);f.ma(I.Ha(I.Yn(0.1),I.gc(0.8),I.lk(0.1)));g.ma(I.Ha(I.gc(1),I.Yn(0.1),I.gc(0.8),I.lk(0.1)));e.ma(I.Ha(I.gc(2),I.Yn(0.1),I.gc(0.8),I.lk(0.1),I.Db(this.TK)))},TK:function(){var c=new I.Xg("revive");I.K.dispatchEvent(c)},U:function(){this._super()},Qa:function(){this._super()}});var Vb=I.Ea.extend({ctor:function(){this._super(yb)},U:function(){this._super()},Qa:function(){this._super()}});var Wb=I.Ea.extend({ctor:function(){this._super(yb)},U:function(){this._super()},Qa:function(){this._super()}});var Db=I.Ea.extend({ctor:function(){this._super(yb)},U:function(){this._super();var c=new I.F(V.WP);c.na({x:I.Q.width/2,y:I.Q.height/2});c.Qc(1.5);this.N(c);this.Rb=I.R.create({event:I.R.ig,eg:p,gf:E(p),$f:function(e,f){f.Ua.Sh()}});I.K.addListener(this.Rb,this)},Qa:function(){this._super();I.K.removeListener(this.Rb)}});I.t.xo=function(){I.view.nJ(I.A.Ph===I.A.tm?p:u);I.view.zT(p);I.A.Kh?I.view.em(640,1136,I.Od.Ss):I.view.em(640,1136,I.Od.kt);I.view.mY(p);MyLoaderScene.BK(mb,function(){I.O.lj(new Zb)},this)};I.t.qY();